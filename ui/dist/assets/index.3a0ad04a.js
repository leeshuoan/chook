import{g as f,s as O,o as q,r as h,a as l,c as d,b as t,d as r,e as p,w as _,f as y,p as w,h as k,n as Z,t as m,i as v,v as g,j as U,k as x,l as A,u as tt,F as T,m as C,q as I,x as D,y as z,z as H,A as M,B as J,C as et,T as V,D as st,E as ot,G as at,H as nt,I as it,J as lt,K as dt,L as ct,M as E,N as rt,O as ut,P as pt,Q as mt,R as _t,S as F,U as ht,V as bt,W as vt,X as ft,Y as gt,Z as yt,_ as $t}from"./vendor.dea4b22b.js";const wt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}};wt();var b=(s,e)=>{const o=s.__vccOpts||s;for(const[n,a]of e)o[n]=a;return o};const kt={data(){return{LoggedIn:!1}},computed:{cssProps(){}},methods:{openNav(){document.getElementById("mySidenav").style.width="250px"},closeNav(){document.getElementById("mySidenav").style.width="0"},login(){this.$router.push("/login")},logout(){console.log("logout");var s=confirm("Are you sure to logout?");if(s){var e=f();O(e).then(()=>{this.$router.push("/"),alert("Logout Successfully")})}}},mounted(){const s=f();q(s,e=>{e?this.LoggedIn=!0:this.LoggedIn=!1})}},xt={class:"container px-2 mt-5 w-100",style:{"z-index":"2",left:"0",right:"0",color:"white!important"},ref:"navbar"},At=p(" Sign Out \xA0 "),Tt=p(" Log In \xA0 ");function Ct(s,e,o,n,a,i){const u=h("font-awesome-icon");return l(),d("div",null,[t("div",xt,[t("span",{style:{"font-size":"30px",cursor:"pointer"},onClick:e[0]||(e[0]=c=>i.openNav())},[r(u,{icon:["fa","bars"]})]),a.LoggedIn?(l(),d("button",{key:0,class:"btn",style:{position:"absolute",right:"0%",color:"white!important"},ref:"navbarBtn",onClick:e[1]||(e[1]=c=>i.logout())},[At,r(u,{icon:["fa","arrow-right-from-bracket"],style:{"font-size":"larger"}})],512)):(l(),d("button",{key:1,class:"btn",style:{position:"absolute",right:"0%",color:"white!important"},ref:"navbarBtn",onClick:e[2]||(e[2]=c=>i.login())},[Tt,r(u,{icon:["fa","arrow-right-from-bracket"],style:{"font-size":"larger"}})],512))],512)])}var St=b(kt,[["render",Ct]]);const Et={computed:{cssProps(){}},methods:{closeNav(){document.getElementById("mySidenav").style.width="0"}}},Nt={id:"mySidenav",class:"sidenav",style:{"z-index":"2"}},qt=p("Home"),Pt=p("My Appointments"),It=p("My Queue");function Lt(s,e,o,n,a,i){const u=h("font-awesome-icon"),c=h("RouterLink");return l(),d("div",Nt,[t("a",{style:{positive:"absolute"},href:"javascript:void(0)",class:"closebtn",onClick:e[0]||(e[0]=L=>i.closeNav())},[r(u,{icon:["fa","bars"]})]),r(c,{to:"/"},{default:_(()=>[qt]),_:1}),r(c,{to:"/appointment"},{default:_(()=>[Pt]),_:1}),r(c,{to:"/queue/join"},{default:_(()=>[It]),_:1})])}var Ut=b(Et,[["render",Lt]]);const Bt={computed:{cssProps(){}},methods:{closeNav(){document.getElementById("mySidenav").style.width="0"}}},Rt={id:"mySidenav",class:"sidenav",style:{"z-index":"2"}},Ot=p("Home"),Dt=p("Upcoming Appointments"),Mt=p("Manage Shop");function Vt(s,e,o,n,a,i){const u=h("font-awesome-icon"),c=h("RouterLink");return l(),d("div",Rt,[t("a",{style:{positive:"absolute"},href:"javascript:void(0)",class:"closebtn",onClick:e[0]||(e[0]=L=>i.closeNav())},[r(u,{icon:["fa","bars"]})]),r(c,{to:"/admin"},{default:_(()=>[Ot]),_:1}),r(c,{to:"/admin/appointment"},{default:_(()=>[Dt]),_:1}),r(c,{to:"/admin/shop"},{default:_(()=>[Mt]),_:1})])}var jt=b(Bt,[["render",Vt]]);const Y=s=>(w("data-v-75b5b68a"),s=s(),k(),s),Qt={class:"container-fluid banner"},zt=Y(()=>t("br",null,null,-1)),Ht=Y(()=>t("div",{class:"jumbotron text-center pt-5 pb-3"},[t("div",{class:"mt-5"},[t("h1",{class:"mb-0",style:{"font-size":"45px"}},"Chook"),t("p",{style:{"font-size":"25px","font-weight":"lighter"}}," Check real time queue & book your next visit anytime, anywhere ")])],-1)),Jt={data(){return{admin:!1}},mounted(){const s=f();q(s,e=>{e&&e.getIdTokenResult().then(o=>{console.log(o),o.claims.role==="admin"?this.admin=!0:this.admin=!1})})}},Ft=Object.assign(Jt,{setup(s){return(e,o)=>(l(),d("div",Qt,[zt,r(St),e.admin==!1?(l(),y(Ut,{key:0})):(l(),y(jt,{key:1})),Ht]))}});var Yt=b(Ft,[["__scopeId","data-v-75b5b68a"]]);const Gt={style:{position:"relative"}},Wt={data(){return{admin:!0}},mounted(){this.admin=!1},computed:{cssProps(){}},methods:{openNav(){document.getElementById("mySidenav").style.width="250px"},closeNav(){document.getElementById("mySidenav").style.width="0"}}},Kt=Object.assign(Wt,{setup(s){return(e,o)=>{const n=h("RouterView");return l(),d("div",null,[t("header",null,[t("div",Gt,[r(Yt)])]),r(n)])}}});const Xt={props:["title","number","color","label"],computed:{cssProps(){return"background-color: "+this.color}}},Zt=s=>(w("data-v-b02cb646"),s=s(),k(),s),te={class:"card queuebox-card",style:{width:"18rem"}},ee={class:"card-body"},se={class:"card-text"},oe={class:"number-text"},ae=Zt(()=>t("br",null,null,-1));function ne(s,e,o,n,a,i){return l(),d("div",te,[t("div",ee,[t("h5",{class:"card-title",style:Z(i.cssProps)},[t("div",null,m(o.title),1)],4),t("p",se,[t("span",oe,m(o.number),1),ae,p(" "+m(o.label),1)])])])}var R=b(Xt,[["render",ne],["__scopeId","data-v-b02cb646"]]);const ie={props:["label"],computed:{cssProps(){return"background-color: "+this.color}}},le={style:{display:"flex"}},de={type:"button",style:{width:"250px","background-color":"black"},class:"mt-1 btn text-white black-button"};function ce(s,e,o,n,a,i){return l(),d("div",le,[t("button",de,m(o.label),1)])}var N=b(ie,[["render",ce],["__scopeId","data-v-fa5a4a72"]]);const $=s=>(w("data-v-e45f6c66"),s=s(),k(),s),re=$(()=>t("br",null,null,-1)),ue=$(()=>t("br",null,null,-1)),pe=$(()=>t("br",null,null,-1)),me={key:0,class:"container text-center"},_e=A('<div class="row" data-v-e45f6c66><div class="col" style="color:#626262;font-weight:bolder;font-size:25px;" data-v-e45f6c66> Alan Barber Shop </div></div><div class="row" data-v-e45f6c66><div class="col" style="font-size:30px;" data-v-e45f6c66>JOIN THE QUEUE</div></div><div class="row mt-5" data-v-e45f6c66><div class="col" data-v-e45f6c66>Enter Phone Number</div></div>',3),he={class:"row"},be={class:"col"},ve={class:"input-group input-group-sm mb-3 m-auto mt-1",style:{width:"300px"}},fe=$(()=>t("span",{class:"text-white rounded-start p-2",style:{"background-color":"#196e63"},id:"inputGroup-sizing-sm"},"+65",-1)),ge=$(()=>t("br",null,null,-1)),ye=$(()=>t("br",null,null,-1)),$e=$(()=>t("br",null,null,-1)),we={key:1,class:"default-section"},ke={class:"queuebox-container"},xe=$(()=>t("br",null,null,-1)),Ae=$(()=>t("br",null,null,-1)),Te=$(()=>t("br",null,null,-1)),Ce=$(()=>t("br",null,null,-1)),Se=$(()=>t("br",null,null,-1)),Ee={props:["title","number","color","label"],computed:{cssProps(){return"background-color: "+this.color}},data(){return{joinView:!1,phone_number:null,queue:[],queue_number:0}},mounted(){console.log(this.$store.state.phone_number),this.getQueue()},methods:{async joinQueue(){tt(),console.log(this.phone_number);var s="http://127.0.0.1:5101/queue";this.queue=[],await this.axios.post(s,{shop_id:this.$route.params.shop_id,phone_number:this.phone_number}).then(e=>{alert(e.data.msg+"- Click ok to view Queue Number"),this.$store.state.phone_number=this.phone_number,this.$router.push({path:"/queue/"+this.$route.params.shop_id+"/"+this.phone_number})}).catch(e=>{this.getQueueByNumber()})},enterJoinView(){this.joinView=!0},leaveJoinView(){this.joinView=!1},async getQueue(){var s="http://127.0.0.1:5002/queue/"+this.$route.params.shop_id;this.queue=[],await this.axios.get(s).then(e=>{var o=e.data.data;this.queue=o})},async getQueueByNumber(){await this.axios.get("http://127.0.0.1:5002/queue/"+this.$route.params.shop_id+"/"+this.phone_number).then(s=>{alert("Your queue number is "+s.data.queue_number),this.queue_number=s.data.queue_number,this.$router.push({path:"/queue/"+this.$route.params.shop_id+"/"+this.phone_number})})}}},Ne=Object.assign(Ee,{setup(s){return(e,o)=>{const n=h("RouterLink");return l(),d("div",null,[re,ue,pe,e.joinView?(l(),d("div",me,[_e,t("div",he,[t("div",be,[t("div",ve,[fe,v(t("input",{type:"text",class:"form-control p-2","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm","onUpdate:modelValue":o[0]||(o[0]=a=>U(phone_number)?phone_number.value=a:null)},null,512),[[g,e.phone_number]])])])]),ge,ye,$e,r(N,{onClick:e.joinQueue,label:"JOIN"},null,8,["onClick"]),r(N,{onClick:e.leaveJoinView,label:"BACK"},null,8,["onClick"])])):x("",!0),e.joinView==!1?(l(),d("div",we,[t("div",ke,[r(R,{color:"#49C06A",title:"Now Serving",label:"Customers",number:"5"}),r(R,{color:"#196E63",title:"# People in queue",label:"Customers",number:e.queue.length},null,8,["number"])]),xe,Ae,Te,e.$store.state.phone_number==null?(l(),y(N,{key:0,onClick:e.enterJoinView,label:"JOIN THE QUEUE"},null,8,["onClick"])):(l(),y(n,{key:1,to:"/queue/"+e.$route.params.shop_id+"/"+e.$store.state.phone_number,style:{color:"#196e63"},class:"fw-bolder"},{default:_(()=>[r(N,{label:"VIEW YOUR QUEUE"})]),_:1},8,["to"]))])):x("",!0),Ce,Se])}}});var qe=b(Ne,[["__scopeId","data-v-e45f6c66"]]);const Pe={props:{appointment:{type:Object}},computed:{},data(){return{}},methods:{EditApt(){this.$emit("EditApt",this.appointment)},DeleteApt(){this.$emit("DeleteApt",this.appointment)}}},Ie={class:"bg-light p-3 services mb-3 row"},Le={class:"col-sm-3 text-start"},Ue={class:"mb-1",style:{color:"#196e63"}},Be={style:{"font-size":"smaller"}},Re={class:"col-6 col-sm-3 text-start text-sm-end mt-3 my-sm-auto",id:"timeslot"},Oe={class:"col-6 col-sm-3 text-end mt-3 my-sm-auto",id:"status"},De={class:"col-sm-3 m-sm-auto mt-4 text-center text-sm-end"},Me=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),Ve=[Me],je=p(" \xA0 ");function Qe(s,e,o,n,a,i){const u=h("font-awesome-icon");return l(),d("tr",null,[t("td",null,[t("div",Ie,[t("div",Le,[t("h6",Ue,m(o.appointment.service_name)+" - "+m(o.appointment.duration)+" minutes ",1),t("span",Be,m(o.appointment.shop_name),1)]),t("span",Re,m(o.appointment.date)+", "+m(o.appointment.time),1),t("span",Oe,m(o.appointment.status),1),t("div",De,[t("button",{class:"btn edit col-sm-3 mx-auto","data-bs-toggle":"modal","data-bs-target":"#changeappt",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=(...c)=>i.EditApt&&i.EditApt(...c))},Ve),je,t("button",{class:"btn cancel col-sm-3 mx-auto","data-bs-toggle":"modal","data-bs-target":"#cancelappt",onClick:e[1]||(e[1]=(...c)=>i.DeleteApt&&i.DeleteApt(...c)),style:{"min-width":"max-content"}},[r(u,{icon:["fas","ban"]})])])])])])}var ze=b(Pe,[["render",Qe]]);const He={class:"container text-center mt-5"},Je=t("h4",{class:"mb-5"},"My Appointments",-1),Fe={class:"w-75",style:{"max-height overflow-y":"scroll",display:"inline-block"}},Ye={class:"table table-borderless mx-auto"},Ge={key:0},We={class:"modal fade",id:"changeappt","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"changeapptlabel","aria-hidden":"true"},Ke={class:"modal-dialog modal-dialog-centered"},Xe={class:"modal-content"},Ze=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"changeapptlabel"}," Change Appointment "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ts={class:"modal-body text-center"},es=t("h6",null,"Choose a timeslot",-1),ss={class:"container mt-4"},os={class:"row"},as={class:"col-sm mb-3"},ns=p(" Date \xA0 "),is=["value"],ls=t("option",{value:"03/03/22"},"03/03/22",-1),ds=t("option",{value:"04/03/22"},"04/03/22",-1),cs=t("option",{value:"05/03/22"},"05/03/22",-1),rs={class:"col-sm mb-3"},us=p(" Time \xA0 "),ps=["value"],ms=t("option",{value:"09:15 AM"},"09:15 AM",-1),_s=t("option",{value:"09:30 AM"},"09:30 AM",-1),hs=t("option",{value:"09:45 AM"},"09:45 AM",-1),bs=t("option",{value:"10:00 AM"},"10:00 AM",-1),vs={class:"modal-footer"},fs=A('<div class="modal fade" id="confirmation" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="confirmationlabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="confirmationlabel"> Appointment Changed Successfully </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><h6>Your appointment has been changed. The shop will be processing your booking shortly.</h6></div></div></div></div>',1),gs={class:"modal fade",id:"cancelappt","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"cancelapptlabel","aria-hidden":"true"},ys={class:"modal-dialog modal-dialog-centered"},$s={class:"modal-content"},ws=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"cancelapptlabel"}," Cancel Appointment "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ks={class:"modal-body text-center my-5"},xs=p("Are you sure you want to cancel appointment for "),As={id:"service_name"},Ts=p(" at "),Cs={id:"shopname"},Ss=p("?"),Es={class:"modal-footer","data-bs-dismiss":"modal"},Ns=t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"#cancelappt"}," No ",-1),qs=A('<div class="modal fade" id="cancelcfm" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="cancellabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="cancellabel"> Appointment Cancelled Successfully </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><h6>Your appointment is cancelled.</h6></div></div></div></div>',1),Ps={props:[],computed:{},data(){return{apts:[],aptToEdit:{apt_id:1,date_time:"12/2/22, 12:00PM",date:"",time:"",service_name:"Hair Coloring with bleaching",duration:4,status:"Booking processing",shop_name:"Red Head Salon"},aptToDelete:{apt_id:1,date_time:"12/2/22, 12:00PM",service_name:"Hair Coloring with bleaching",duration:4,status:"Booking processing",shop_name:"Red Head Salon"},phoneNum:""}},mounted(){const s=f(),e=D();q(s,o=>{if(o){const n=z(M(e,"users"),H("uid","==",o.uid));J(n).then(a=>{a.forEach(i=>{console.log(i.id," => ",i.data());let u=i.data().phoneNumber;this.phoneNum=u,this.get_appt(this.phoneNum)})})}}),this.get_appt(this.phoneNum)},methods:{EditApt(s){this.aptToEdit=s},async confirmEdit(s){const o=f().currentUser.accessToken,n={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:"Bearer "+o}};let a="20"+s.date.split("/").reverse().join("-"),i="";s.time.slice(-2)=="PM"?s.time.slice(0,2)=="12"?i=s.time.slice(0,5)+":00":i=12+parseInt(s.time.slice(0,2))+s.time.slice(2,5)+":00":i=s.time.slice(0,5)+":00";const u={date_time:a+" "+i,duration:s.duration,service_service_id:s.service_service_id,user_phone_number:s.user_phone_number};console.log(u);const c="http://localhost:5000/allAppointments/"+s.apt_id;console.log(c),await this.axios.put(c,u,n).then(L=>{alert("Your booking for "+L.service_name+" has been modified successfully to "+s.date_time)}).catch(L=>{alert("This timeslot clashes with another booking, please select another timeslot!")})},DeleteApt(s){this.aptToDelete=s},confirmDelete(s){var e="http://127.0.0.1:5000/allAppointments/"+s;this.axios.delete(e),this.get_appt(this.phoneNum)},async get_appt(s){this.apts=[],console.log(s),await this.axios.get("http://127.0.0.1:5100/view_appointment/"+s).then(e=>{console.log(e);var o=e.data.data.list_of_appt.data;for(var n of o){console.log(n),n.vendor_confirm==0?n.status="Booking Processing":n.vendor_confirm==1?n.status="Booking Confirmed":n.status="Rejected";var a=n.date_time.slice(0,11),i=n.date_time.slice(11,16);parseInt(i.slice(0,2))>=12?i+="pm":i+="am",n.date=a,n.time=i,this.apts.push(n)}console.log(this.apts)})}}},Is=Object.assign(Ps,{setup(s){return(e,o)=>(l(),d("div",He,[Je,t("div",Fe,[t("table",Ye,[t("tbody",null,[(l(!0),d(T,null,C(e.apts,n=>(l(),y(ze,{key:n.apt_id,appointment:n,onEditApt:a=>e.EditApt(n),onDeleteApt:a=>e.DeleteApt(n)},null,8,["appointment","onEditApt","onDeleteApt"]))),128)),e.apts.length==0?(l(),d("p",Ge,m(e.appt_msg),1)):x("",!0)])]),t("div",We,[t("div",Ke,[t("div",Xe,[Ze,t("div",ts,[es,t("div",ss,[t("div",os,[t("div",as,[ns,v(t("select",{name:"date",id:"date",class:"rounded-pill bg-light p-2 btn","onUpdate:modelValue":o[0]||(o[0]=n=>e.aptToEdit.date=n)},[t("option",{value:e.aptToEdit.date},m(e.aptToEdit.date),9,is),ls,ds,cs],512),[[I,e.aptToEdit.date]])]),t("div",rs,[us,v(t("select",{name:"date",id:"date",class:"rounded-pill bg-light p-2 btn","onUpdate:modelValue":o[1]||(o[1]=n=>e.aptToEdit.time=n)},[t("option",{value:e.aptToEdit.time},m(e.aptToEdit.time),9,ps),ms,_s,hs,bs],512),[[I,e.aptToEdit.time]])])])])]),t("div",vs,[t("button",{onClick:o[2]||(o[2]=n=>e.confirmEdit(e.aptToEdit)),type:"button",class:"btn mx-auto rebook px-4 rounded-pill","data-bs-target":"#confirmation","data-bs-dismiss":"modal"}," CONFIRM ")])])])]),fs,t("div",gs,[t("div",ys,[t("div",$s,[ws,t("div",ks,[t("h6",null,[xs,t("span",As,m(e.aptToDelete.service_name),1),Ts,t("span",Cs,m(e.aptToDelete.shop_name),1),Ss])]),t("div",Es,[t("button",{"data-bs-dismiss":"#cancelappt",onClick:o[3]||(o[3]=n=>e.confirmDelete(e.aptToDelete.apt_id)),type:"button",class:"btn mx-auto px-4 rounded-pill"}," Yes "),Ns])])])]),qs])]))}});var G="/assets/DeepCutsSG.7bc10ac4.jpg";const Ls={props:["shopName","shopid"]},Us=s=>(w("data-v-3e57c96d"),s=s(),k(),s),Bs={class:"col"},Rs={class:"card"},Os=Us(()=>t("img",{src:G,class:"card-img-top w-100",alt:"..."},null,-1)),Ds={class:"card-body"},Ms={class:"card-title"};function Vs(s,e,o,n,a,i){const u=h("RouterLink");return l(),d("div",Bs,[t("div",Rs,[r(u,{to:{name:"shopdetails",params:{shopname:o.shopName,shopid:o.shopid}}},{default:_(()=>[Os]),_:1},8,["to"]),t("div",Ds,[t("h5",Ms,m(o.shopName),1)])])])}var js=b(Ls,[["render",Vs],["__scopeId","data-v-3e57c96d"]]);const Qs={},j=s=>(w("data-v-2eafe55c"),s=s(),k(),s),zs={class:"navbar navbar-expand-lg navbar-light m-0"},Hs={class:"container-fluid px-0"},Js=j(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),Fs={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Ys=j(()=>t("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0"},[t("li",{class:"nav-item"},[t("a",{class:"nav-link active","aria-current":"page",href:"#"},"Shops")]),t("li",{class:"nav-item dropdown"},[t("a",{class:"nav-link",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Category "),t("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdown"},[t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Hair")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Food")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Health")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Beauty")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Spa")])])]),t("li",{class:"nav-item"},[t("a",{class:"nav-link",href:"#"},"Near Me")])],-1)),Gs={class:"d-flex"},Ws=j(()=>t("input",{class:"form-control me-2 rounded-pill",type:"search",placeholder:"Search","aria-label":"Search"},null,-1)),Ks={class:"btn",type:"submit"};function Xs(s,e,o,n,a,i){const u=h("font-awesome-icon");return l(),d("div",null,[t("nav",zs,[t("div",Hs,[Js,t("div",Fs,[Ys,t("form",Gs,[Ws,t("button",Ks,[r(u,{icon:["fa","magnifying-glass"]})])])])])])])}var W=b(Qs,[["render",Xs],["__scopeId","data-v-2eafe55c"]]);const S=s=>(w("data-v-48435cb0"),s=s(),k(),s),Zs={class:"container px-5"},to={class:"my-4 position-relative w-100"},eo={class:"btn-group"},so={class:"btn rounded-pill btn-outline-dark","data-bs-toggle":"dropdown","aria-expanded":"false",style:{"font-size":"smaller","margin-right":"10px"}},oo=p(" Sort \xA0 "),ao=S(()=>t("ul",{class:"dropdown-menu"},[t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Most Popular")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Price (low to high)")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Price (high to low)")])],-1)),no={class:"btn-group position-absolute",style:{right:"0%"}},io={class:"btn rounded-pill btn-outline-dark",style:{"font-size":"smaller"},"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},lo=p(" Filter \xA0"),co={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ro={class:"modal-dialog",style:{top:"150px"}},uo={class:"modal-content"},po=S(()=>t("div",{class:"modal-header"},[t("h6",{class:"modal-title mx-auto",id:"staticBackdropLabel"}," Filter ")],-1)),mo={class:"modal-body px-5"},_o=S(()=>t("label",{for:"basic-url",class:"form-label"},"Price Range",-1)),ho={class:"input-group mb-4"},bo=S(()=>t("br",null,null,-1)),vo=p("S$0 - S$"),fo={ref:"max"},go=S(()=>t("label",{for:"basic-url",class:"form-label"},"Location",-1)),yo=S(()=>t("br",null,null,-1)),$o=S(()=>t("div",{class:"btn-group mb-4 w-100",role:"group","aria-label":"Basic checkbox toggle button group"},[t("input",{type:"checkbox",class:"btn-check",id:"north",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"north"},"North"),t("input",{type:"checkbox",class:"btn-check",id:"south",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"south"},"South"),t("input",{type:"checkbox",class:"btn-check",id:"east",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"east"},"East"),t("input",{type:"checkbox",class:"btn-check",id:"west",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"west"},"West"),t("input",{type:"checkbox",class:"btn-check",id:"central",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"central"},"Central")],-1)),wo=S(()=>t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",style:{"font-size":"smaller"}}," Cancel "),t("button",{type:"button",class:"btn btn-primary",style:{"font-size":"smaller"}}," Apply Filters ")],-1)),ko={class:"row row-cols-1 row-cols-md-3 g-4 mb-5"},xo={props:[],computed:{},data(){return{shops:[]}},mounted(){this.getShops(),this.shops=[]},methods:{slider(s){this.$refs.max.innerText=s.target.value},async getShops(){var s="http://127.0.0.1:5005/allShops";this.shops=[],await this.axios.get(s).then(e=>{var o=e.data.data;this.shops=o})}}},Ao=Object.assign(xo,{setup(s){return(e,o)=>{const n=h("font-awesome-icon"),a=h("h7");return l(),d("div",null,[t("div",Zs,[r(W),t("div",to,[t("div",eo,[t("button",so,[oo,r(n,{icon:["fa","sort"]})]),ao]),t("div",no,[t("button",io,[lo,r(n,{icon:["fa","filter"]})]),t("div",co,[t("div",ro,[t("div",uo,[po,t("div",mo,[_o,t("div",ho,[t("input",{id:"pricerange",type:"range",min:"1",max:"1000",value:"500",class:"slider rounded-pill",onInput:o[0]||(o[0]=i=>e.slider(i))},null,32),bo,r(a,{class:"values"},{default:_(()=>[vo,t("span",fo,"$500",512)]),_:1})]),go,yo,$o]),wo])])])])]),t("div",ko,[(l(!0),d(T,null,C(e.shops,i=>(l(),y(js,{shopName:i.name,shopid:i.shop_id,key:i.shop_id},null,8,["shopName","shopid"]))),128))])])])}}});var To=b(Ao,[["__scopeId","data-v-48435cb0"]]);const Co={data(){return{email:"",password:"",error:"",showP:!1}},methods:{async logIn(){event.preventDefault(),this.error="";const s=f();if(this.email==""){this.error="Please enter your email";return}if(this.password==""){this.error="Please enter your password";return}et(s,this.email,this.password).then(()=>{s.currentUser.emailVerified?this.$router.push("/"):(this.setupPopup(),O(s).then(()=>{}))}).catch(e=>{console.log(e),e.code=="auth/invalid-email"?this.error="The email you entered is invalid":e.code=="auth/user-not-found"?this.error="User not found with the given email address":e.code=="auth/wrong-password"?this.error="Wrong Password":e.code=="auth/too-many-requests"?this.error="Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later":this.error=e.message})},setupPopup(){this.showP=!0,setTimeout(()=>this.showP=!1,3e3)}}},Q=s=>(w("data-v-3ba59577"),s=s(),k(),s),So={key:0,class:"popup"},Eo=p(" Please verify your email to login!"),No=Q(()=>t("br",null,null,-1)),qo=[Eo,No],Po={class:"container mt-5",style:{"max-width":"400px"}},Io={class:"mb-4"},Lo=Q(()=>t("label",{for:"email",class:"form-label"},"Email",-1)),Uo={class:"mb-3"},Bo=Q(()=>t("label",{for:"password",class:"form-label"},"Password",-1)),Ro={id:"forgetpw",class:"form-text"},Oo=p("Forget Password?"),Do={class:"error"},Mo={key:0,class:"text-center text-danger"},Vo={class:"text-center mt-2 mb-2"},jo={class:"text-center"},Qo=p(" New user? "),zo=p("SIGN UP");function Ho(s,e,o,n,a,i){const u=h("RouterLink");return l(),d("div",null,[r(V,{name:"popup"},{default:_(()=>[a.showP?(l(),d("div",So,qo)):x("",!0)]),_:1}),t("div",Po,[t("div",Io,[Lo,v(t("input",{type:"username",class:"form-control border-top-0 border-start-0 border-end-0",id:"email","onUpdate:modelValue":e[0]||(e[0]=c=>a.email=c)},null,512),[[g,a.email]])]),t("div",Uo,[Bo,v(t("input",{type:"password",class:"form-control border-top-0 border-start-0 border-end-0",id:"password","aria-describedby":"forgetpw","onUpdate:modelValue":e[1]||(e[1]=c=>a.password=c)},null,512),[[g,a.password]]),t("div",Ro,[r(u,{to:"/forgetpassword",style:{color:"#818181"},class:"text-decoration-none"},{default:_(()=>[Oo]),_:1})])]),t("div",Do,[a.error?(l(),d("p",Mo,m(a.error),1)):x("",!0)]),t("div",Vo,[t("button",{class:"btn btn-dark rounded-pill px-5",onClick:e[2]||(e[2]=c=>i.logIn())}," LOG IN ")]),t("div",jo,[Qo,r(u,{to:"/signup",style:{color:"#196e63"},class:"fw-bolder"},{default:_(()=>[zo]),_:1})])])])}var Jo=b(Co,[["render",Ho],["__scopeId","data-v-3ba59577"]]);const Fo={data(){return{username:"",password:"",confirmPassword:"",phoneNum:"",email:"",error:"",showP:!1}},methods:{signUp(){event.preventDefault();const s=f(),e=D();if(this.error="",this.username==""){this.error="Please enter a username";return}this.password==this.confirmPassword?st(s,this.email,this.password).then(o=>{const n=o.user;console.log(n),console.log(this.phoneNum),ot(s.currentUser,{displayName:this.username}),at(M(e,"users"),{uid:n.uid,phoneNumber:this.phoneNum}),nt(s.currentUser).then(()=>{this.setupPopup()}),O(s).then(()=>{})}).catch(o=>{console.log(o),o.code=="auth/weak-password"?this.error="The password you entered is too weak":o.code=="auth/email-already-in-use"?this.error="The email you entered is already in use":o.code=="auth/invalid-email"?this.error="The email you entered is invalid":this.error=o.code}):this.error="Your passwords do not match!"},setupPopup(){this.showP=!0,setTimeout(()=>this.showP=!1,3e3)}}},P=s=>(w("data-v-0c580d62"),s=s(),k(),s),Yo={key:0,class:"popup"},Go=p(" Verification email has been sent to your inbox."),Wo=P(()=>t("br",null,null,-1)),Ko=p(" Please verify to log in! "),Xo=[Go,Wo,Ko],Zo={class:"container mt-5",style:{"max-width":"400px"}},ta={class:"mb-4"},ea=P(()=>t("label",{for:"username",class:"form-label"},"Username",-1)),sa={class:"mb-4"},oa=P(()=>t("label",{for:"email",class:"form-label"},"Email address",-1)),aa={class:"mb-4"},na=P(()=>t("label",{for:"phoneNum",class:"form-label"},"Phone Number",-1)),ia={class:"mb-4"},la=P(()=>t("label",{for:"pw",class:"form-label"},"Password",-1)),da={class:"mb-4"},ca=P(()=>t("label",{for:"cfmpw",class:"form-label"},"Confirm Password",-1)),ra={class:"error"},ua={key:0,class:"text-center text-danger"},pa={class:"text-center mt-2 mb-5"},ma={class:"text-center"},_a=p(" Have an account? "),ha=p("LOG IN");function ba(s,e,o,n,a,i){const u=h("RouterLink");return l(),d("div",null,[r(V,{name:"popup"},{default:_(()=>[a.showP?(l(),d("div",Yo,Xo)):x("",!0)]),_:1}),t("div",Zo,[t("form",null,[t("div",ta,[ea,v(t("input",{type:"text",class:"form-control border-top-0 border-start-0 border-end-0",id:"username","onUpdate:modelValue":e[0]||(e[0]=c=>a.username=c)},null,512),[[g,a.username]])]),t("div",sa,[oa,v(t("input",{type:"email",class:"form-control border-top-0 border-start-0 border-end-0",id:"email","onUpdate:modelValue":e[1]||(e[1]=c=>a.email=c)},null,512),[[g,a.email]])]),t("div",aa,[na,v(t("input",{type:"text",class:"form-control border-top-0 border-start-0 border-end-0",id:"phoneNum","onUpdate:modelValue":e[2]||(e[2]=c=>a.phoneNum=c)},null,512),[[g,a.phoneNum]])]),t("div",ia,[la,v(t("input",{type:"password",class:"form-control border-top-0 border-start-0 border-end-0",id:"pw","onUpdate:modelValue":e[3]||(e[3]=c=>a.password=c)},null,512),[[g,a.password]])]),t("div",da,[ca,v(t("input",{type:"password",class:"form-control border-top-0 border-start-0 border-end-0",id:"cfmpw","onUpdate:modelValue":e[4]||(e[4]=c=>a.confirmPassword=c)},null,512),[[g,a.confirmPassword]])]),t("div",ra,[a.error?(l(),d("p",ua,m(a.error),1)):x("",!0)]),t("div",pa,[t("button",{class:"btn btn-dark rounded-pill px-5",onClick:e[5]||(e[5]=c=>i.signUp())}," SIGN UP ")]),t("div",ma,[_a,r(u,{to:"/login",style:{color:"#196e63"},class:"fw-bolder"},{default:_(()=>[ha]),_:1})])])])])}var va=b(Fo,[["render",ba],["__scopeId","data-v-0c580d62"]]);const fa={data(){return{email:"",error:"",showP:!1}},methods:{sendLink(){event.preventDefault();const s=f();it(s,this.email).then(()=>{this.setupPopup()}).catch(e=>{this.error=e})},setupPopup(){this.showP=!0,setTimeout(()=>this.showP=!1,3e3)}}},K=s=>(w("data-v-ce002486"),s=s(),k(),s),ga={key:0,class:"popup"},ya=p(" Please check your email to reset your password!"),$a=K(()=>t("br",null,null,-1)),wa=[ya,$a],ka={class:"container mt-5",style:{"max-width":"400px"}},xa={class:"mb-4"},Aa=K(()=>t("label",{for:"email",class:"form-label"},"Please enter your Email address",-1)),Ta={class:"error"},Ca={key:0,class:"text-center text-danger"},Sa={class:"text-center mb-5"},Ea={class:"text-center"},Na=p(" Back to "),qa=p("LOG IN");function Pa(s,e,o,n,a,i){const u=h("RouterLink");return l(),d("div",null,[r(V,{name:"popup"},{default:_(()=>[a.showP?(l(),d("div",ga,wa)):x("",!0)]),_:1}),t("div",ka,[t("form",null,[t("div",xa,[Aa,v(t("input",{type:"email",class:"form-control border-top-0 border-start-0 border-end-0",id:"email","onUpdate:modelValue":e[0]||(e[0]=c=>a.email=c)},null,512),[[g,a.email]])]),t("div",Ta,[a.error?(l(),d("p",Ca,m(a.error),1)):x("",!0)]),t("div",Sa,[t("button",{type:"submit",class:"btn btn-dark rounded-pill px-5",onClick:e[1]||(e[1]=(...c)=>i.sendLink&&i.sendLink(...c))}," SEND RESET LINK ")]),t("div",Ea,[Na,r(u,{to:"/login",style:{color:"#196e63"},class:"fw-bolder"},{default:_(()=>[qa]),_:1})])])])])}var Ia=b(fa,[["render",Pa],["__scopeId","data-v-ce002486"]]);const La={class:"container px-5"},Ua={class:"mt-4"},Ba={class:"text-center shopname"},Ra=t("div",{style:{width:"100%",height:"250px"}},[t("img",{src:G,class:"w-100 h-100",style:{"object-fit":"cover"}})],-1),Oa=t("span",{class:"position-fixed border py-2 px-3 telebotlink mt-3",style:{left:"0%"}},[p(" Use our "),t("a",{href:"https://t.me/ESDg3t1_Queue_bot",id:"telebotlink"},"Telegram Bot"),p(" to check queue & make appointments!")],-1),Da={class:"container w-75 mt-5"},Ma={class:"container w-100 position-relative mb-2"},Va=t("br",null,null,-1),ja={class:"btn btn-sm rounded-pill refresh position-absolute",style:{right:"0","z-index":"99"}},Qa={class:"border text-center qinfo pt-3"},za={class:"row"},Ha={class:"col-sm-4"},Ja={class:"table table-borderless"},Fa=t("thead",null,[t("tr",null,[t("th",null,"Serving")])],-1),Ya=A('<div class="col-sm-4"><table class="table table-borderless"><thead><tr><th>Walk-in Queue</th></tr></thead><tbody><tr><td>5</td></tr></tbody></table></div><div class="col-sm-4"><table class="table table-borderless"><thead><tr><th>Avg Serving Time</th></tr></thead><tbody><tr><td>15 mins</td></tr></tbody></table></div>',2),Ga=t("div",{class:"text-center"},[t("button",{class:"btn btn-dark rounded-pill px-4 mt-3 mx-auto",style:{"font-size":"smaller"}}," JOIN QUEUE ")],-1),Wa={class:"my-5"},Ka=t("h5",{class:"text-center"},"Book an Appointment",-1),Xa={class:"container w-sm-50 mt-4",style:{"max-width":"max-content"}},Za={class:"col-6 my-auto"},tn={class:"col text-end my-auto price"},en=["onClick"],sn={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},on={class:"modal-dialog modal-dialog-centered"},an={class:"modal-content"},nn=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"staticBackdropLabel"},"Title"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ln={class:"modal-body text-center"},dn=p("Choose a timeslot"),cn={class:"container mt-4"},rn={class:"row"},un={class:"col-sm mb-3"},pn=p(" Date \xA0 "),mn=t("option",{value:"02/03/22"},"02/03/22",-1),_n=t("option",{value:"03/03/22"},"03/03/22",-1),hn=t("option",{value:"04/03/22"},"04/03/22",-1),bn=t("option",{value:"05/03/22"},"05/03/22",-1),vn=[mn,_n,hn,bn],fn={class:"col-sm mb-3"},gn=p(" Time \xA0 "),yn=A('<option value="09:00 AM">09:00 AM</option><option value="09:15 AM">09:15 AM</option><option value="09:30 AM">09:30 AM</option><option value="09:45 AM">09:45 AM</option><option value="10:00 AM">10:00 AM</option>',5),$n=[yn],wn={class:"modal-footer","data-bs-dismiss":"modal"},kn={data(){return{shopname:"",shopid:"",selectedid:"",selectedDuration:"",service:[],date:"02/03/22",time:"09:00 AM",qs:0,phoneNum:null}},mounted(){const s=f(),e=D();this.getShop(),this.getQueue(),q(s,o=>{if(o){const n=z(M(e,"users"),H("uid","==",o.uid));J(n).then(a=>{a.forEach(i=>{console.log(i.id," => ",i.data());let u=i.data().phoneNumber;this.phoneNum=u})})}})},methods:{bookfunc(s,e,o){var n=s.target.parentElement.children[0].innerText;document.getElementById("staticBackdropLabel").innerText=n,this.selectedid=e,this.selectedDuration=o},book(s,e,o){var n="20"+e.slice(6)+"-"+e.slice(3,5)+"-"+e.slice(0,2),a;o.slice(6)=="AM"?a=o.slice(0,2):a=(parseInt(o.slice(0,2))+12).toString;var i=a+":"+o.slice(3,5)+":00",u=n+" "+i;console.log(u),this.process_book(u)},async process_book(s){var e="http://127.0.0.1:5000/bookAppointment/"+this.phoneNum;await this.axios.post(e,{date_time:s,shop_shop_id:this.shopid,service_service_id:this.selectedid,duration:this.selectedDuration}).then(o=>{console.log(o.data),alert("Your booking has been confirmed on "+s)}).catch(o=>{alert("You booking has failed due to a schedule conflict! Please book for another timeslot!")})},redirect(){window.location.replace("http://localhost:3000/appointment")},getShop(){this.shopid=this.$route.params.shopid,this.shopname=this.$route.params.shopname;var s="http://127.0.0.1:5003/services/"+this.shopid;this.display_detail(s)},async display_detail(s){this.apts=[],await this.axios.get(s).then(e=>{console.log(e.data.data),this.service=e.data.data})},async getQueue(){var s="http://127.0.0.1:5002/queue/1";this.queue=[],await this.axios.get(s).then(e=>{var o=e.data.data;this.qs=o.length})}}},xn=Object.assign(kn,{setup(s){return(e,o)=>{const n=h("font-awesome-icon"),a=h("h8");return l(),d("div",null,[t("div",La,[r(W)]),t("div",Ua,[t("h5",Ba,m(e.shopname),1),Ra]),Oa,t("div",Da,[t("div",Ma,[Va,t("button",ja,[r(n,{icon:["fa","arrows-rotate"]})])]),t("div",Qa,[t("div",za,[t("div",Ha,[t("table",Ja,[Fa,t("tbody",null,[t("tr",null,[t("td",null,m(e.qs),1)])])])]),Ya])]),Ga,t("div",Wa,[Ka,t("div",Xa,[(l(!0),d(T,null,C(e.service,i=>(l(),d("div",{key:i.service_id,class:"bg-light p-3 services mb-3 row"},[t("h6",Za,m(i.name)+" - "+m(i.duration+" mins"),1),t("span",tn,"$"+m(i.price),1),t("button",{class:"btn book col-sm-3 mx-auto",style:{"max-width":"100px"},"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",onClick:u=>e.bookfunc(u,i.service_id,i.duration)}," BOOK ",8,en)]))),128)),t("div",sn,[t("div",on,[t("div",an,[nn,t("div",ln,[r(a,null,{default:_(()=>[dn]),_:1}),t("div",cn,[t("div",rn,[t("div",un,[pn,v(t("select",{"onUpdate:modelValue":o[0]||(o[0]=i=>U(date)?date.value=i:null),name:"date",id:"date",class:"rounded-pill bg-light p-2 btn"},vn,512),[[I,e.date]])]),t("div",fn,[gn,v(t("select",{"onUpdate:modelValue":o[1]||(o[1]=i=>U(time)?time.value=i:null),name:"date",id:"date",class:"rounded-pill bg-light p-2 btn"},$n,512),[[I,e.time]])])])])]),t("div",wn,[t("button",{type:"button",class:"btn mx-auto book px-4 rounded-pill",onClick:o[2]||(o[2]=i=>e.book(e.selectedid,e.date,e.time))}," CONFIRM ")])])])])])])])])}}}),An={props:{appointment:{type:Object}},computed:{},data(){return{}},methods:{cancelApt(){this.$emit("cancelApt",this.appointment)},acceptApt(){this.$emit("acceptApt",this.appointment)}}},Tn={class:"bg-light p-3 services mb-3 row"},Cn={class:"col-sm-3 text-start"},Sn={class:"mb-1",style:{color:"#196e63"}},En={style:{"font-size":"smaller"}},Nn={class:"col-6 col-sm-3 text-start text-sm-end mt-3 my-sm-auto",id:"timeslot"},qn={class:"col-sm-6 m-sm-auto mt-4 text-center text-sm-end"},Pn=p(" \xA0 ");function In(s,e,o,n,a,i){const u=h("font-awesome-icon");return l(),d("tr",null,[t("td",null,[t("div",Tn,[t("div",Cn,[t("h6",Sn,m(o.appointment.service_name),1),t("span",En,m(o.appointment.user_phone_number),1)]),t("span",Nn,m(o.appointment.date_time.split(" ")[0])+", "+m(o.appointment.date_time.split(" ")[1]),1),t("div",qn,[t("button",{class:"btn accept mx-auto","data-bs-toggle":"modal","data-bs-target":"#acceptappt",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=(...c)=>i.acceptApt&&i.acceptApt(...c))},[r(u,{icon:["fa-solid","check"]})]),Pn,t("button",{class:"btn cancel mx-auto","data-bs-toggle":"modal","data-bs-target":"#cancelappt",onClick:e[1]||(e[1]=(...c)=>i.cancelApt&&i.cancelApt(...c)),style:{"min-width":"max-content"}},[r(u,{icon:["fa-solid","ban"]})])])])])])}var Ln=b(An,[["render",In]]);const Un={class:"container text-center mt-5",id:"page"},Bn=t("h4",{class:"mb-5"},"Appointment Requests",-1),Rn={class:"w-75",style:{display:"inline-block"}},On={class:"table table-borderless mx-auto"},Dn=A('<div class="modal fade" id="acceptappt" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="acceptlabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="acceptlabel">Booking Accepted</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><span>The appointment is confirmed.</span></div></div></div></div>',1),Mn={class:"modal fade",id:"cancelappt","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"cancelapptlabel","aria-hidden":"true"},Vn={class:"modal-dialog modal-dialog-centered"},jn={class:"modal-content"},Qn=A('<div class="modal-header"><h5 class="modal-title" id="cancelapptlabel"> Reject Appointment </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><span>Are you sure you want to reject appointment for <span id="servicename"></span> for <span id="shopname"></span>?</span></div>',2),zn={class:"modal-footer"},Hn=t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"modal"}," No ",-1),Jn=A('<div class="modal fade" id="cancelcfm" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="cancellabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="cancellabel"> Appointment Rejected </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><span>The appointment is rejected.</span></div></div></div></div>',1),Fn={props:[],computed:{},data(){return{apts:[],aptToCancel:{apt_id:1,date_time:"12/2/22, 12:00PM",description:"Hair Coloring with bleaching",duration:4,status:"Booking processing",shop_name:"Jason's Hair Studio"}}},mounted(){this.getAllApt()},methods:{async acceptApt(s){const o=f().currentUser.accessToken;let n=JSON.parse(JSON.stringify(s));const a={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${o}`}},i={approvalCode:1,userName:n.display_name},u="http://127.0.0.1:5100/manage_appointment/"+n.apt_id;await this.axios.post(u,i,a).then(c=>{c.data.code==200&&this.getAllApt()}).catch(c=>{console.log(c.message)})},cancelApt(s){this.aptToCancel=s},async confirmCancel(s){const o=f().currentUser.accessToken;let n=JSON.parse(JSON.stringify(s));const a={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${o}`}},i={approvalCode:2,userName:n.display_name},u="http://127.0.0.1:5100/manage_appointment/"+n.apt_id;await this.axios.post(u,i,a).then(c=>{c.data.code==200}).catch(c=>{console.log(c.message)})},async getAllApt(){var s="http://localhost:5100/getPendingAppt/1";this.apts=[],await this.axios.get(s).then(e=>{var o=e.data.data.list_of_pending_appt;this.apts=o})}}},Yn=Object.assign(Fn,{setup(s){return(e,o)=>(l(),d("div",null,[t("div",Un,[Bn,t("div",Rn,[t("table",On,[t("tbody",null,[(l(!0),d(T,null,C(e.apts,n=>(l(),y(Ln,{key:n.apt_id,appointment:n,onCancelApt:e.cancelApt,onAcceptApt:e.acceptApt},null,8,["appointment","onCancelApt","onAcceptApt"]))),128))])]),Dn,t("div",Mn,[t("div",Vn,[t("div",jn,[Qn,t("div",zn,[t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-target":"#cancelcfm","data-bs-toggle":"modal",onClick:o[0]||(o[0]=(...n)=>e.confirmCancel&&e.confirmCancel(...n))}," Yes "),Hn])])])]),Jn])])]))}});const Gn={props:{q:{type:Object}},computed:{},data(){return{}},methods:{async serveQ(){var s="http://127.0.0.1:5002/queue/1";this.queue=[],await this.axios.get(s).then(e=>{var o=e.data.data;console.log(o),this.qs=o})}}},Wn={class:"bg-light p-3 services mb-3 row"},Kn={class:"col-sm-3 text-start my-auto",style:{color:"#196e63"},id:"qnumber"},Xn=t("br",null,null,-1),Zn={class:"col-6 col-sm-9 text-start text-sm-end mt-3 my-sm-auto",id:"timeslot"},ti=t("br",null,null,-1);function ei(s,e,o,n,a,i){return l(),d("tr",null,[t("td",null,[t("div",Wn,[t("span",Kn,[p(m(o.q.queue_number)+" ",1),Xn,p(" "+m(o.q.phone_number),1)]),t("span",Zn,[p("Date: "+m(o.q.time_created.split(" ")[0])+", ",1),ti,p(" Time: "+m(o.q.time_created.split(" ")[1]),1)])])])])}var si=b(Gn,[["render",ei]]);const oi={class:"container text-center mt-5",id:"page"},ai=t("h4",{class:"mb-3"},"Current Queue",-1),ni=p(" Number of pax: "),ii=t("br",null,null,-1),li=t("br",null,null,-1),di={class:"w-75",style:{display:"inline-block"}},ci={class:"table table-borderless mx-auto",style:{"max-width":"800px"}},ri={class:"modal fade",id:"serve","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"servelabel","aria-hidden":"true"},ui={class:"modal-dialog modal-dialog-centered"},pi={class:"modal-content"},mi=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"servelabel"},"Serving"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_i={class:"modal-body text-center my-5"},hi=p("The customer is being served now."),bi={class:"modal fade",id:"removeq","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"removeqlabel","aria-hidden":"true"},vi={class:"modal-dialog modal-dialog-centered"},fi={class:"modal-content"},gi=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"removeqlabel"},"Remove Queue"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),yi={class:"modal-body text-center my-5"},$i=p("Are you sure you want to remove this queue number? "),wi=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-target":"#cfmremove","data-bs-toggle":"modal"}," Yes "),t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"modal"}," No ")],-1),ki={props:[],computed:{},data(){return{qs:[],qToServe:null}},mounted(){this.getQueue()},methods:{acceptApt(s){console.log(s)},cancelApt(s){this.aptToCancel=s},confirmCancel(){console.log(this.aptToCancel)},async getQueue(){var s="http://127.0.0.1:5002/queue/1";this.queue=[],await this.axios.get(s).then(e=>{var o=e.data.data;console.log(o),this.qs=o})},async serveQ(){var s="http://127.0.0.1:5002/shop/next";this.queue=[];var e={shop_id:1};await this.axios.put(s,e).then(o=>{o.data.data,this.getQueue()})}}},xi=Object.assign(ki,{setup(s){return(e,o)=>{const n=h("h8");return l(),d("div",oi,[ai,ni,t("b",null,m(e.qs.length),1),ii,li,t("div",di,[t("button",{class:"btn accept mx-auto","data-bs-toggle":"modal","data-bs-target":"#serve",style:{"min-width":"max-content"},onClick:o[0]||(o[0]=(...a)=>e.serveQ&&e.serveQ(...a))}," Serve Next "),t("table",ci,[t("tbody",null,[(l(!0),d(T,null,C(e.qs,a=>(l(),y(si,{key:a.queue_id,q:a},null,8,["q"]))),128))])]),t("div",ri,[t("div",ui,[t("div",pi,[mi,t("div",_i,[r(n,null,{default:_(()=>[hi]),_:1})])])])]),t("div",bi,[t("div",vi,[t("div",fi,[gi,t("div",yi,[r(n,null,{default:_(()=>[$i]),_:1})]),wi])])])])])}}}),Ai={data(){return{}},methods:{pushNotification(){console.log("run api for notification")}}},Ti={class:"text-center"};function Ci(s,e,o,n,a,i){return l(),d("div",Ti,[t("button",{class:"btn btn-dark rounded-pill px-5 mt-3 mx-auto;",onClick:e[0]||(e[0]=u=>i.pushNotification())}," Push notification to Telebot ")])}var Si=b(Ai,[["render",Ci]]);const Ei={class:"nav nav-pills nav-fill w-50 mx-auto mt-5"},Ni={class:"nav-item"},qi={class:"nav-item"},Pi={props:[],computed:{},data(){return{aptDisplay:!1}},mounted(){},methods:{changeToQueue(){document.getElementById("aptSelection").classList.remove("active"),document.getElementById("queueSelection").classList.add("active"),this.aptDisplay=!1},changeToApt(){document.getElementById("aptSelection").classList.add("active"),document.getElementById("queueSelection").classList.remove("active"),this.aptDisplay=!0}}},Ii=Object.assign(Pi,{setup(s){return(e,o)=>(l(),d("div",null,[t("div",null,[t("ul",Ei,[t("li",Ni,[t("a",{id:"queueSelection",class:"nav-link active","aria-current":"page",href:"#",onClick:o[0]||(o[0]=(...n)=>e.changeToQueue&&e.changeToQueue(...n))},"Queue")]),t("li",qi,[t("a",{class:"nav-link",href:"#","aria-current":"page",onClick:o[1]||(o[1]=(...n)=>e.changeToApt&&e.changeToApt(...n)),id:"aptSelection"},"Appointments")])])]),e.aptDisplay?(l(),y(Yn,{key:0})):(l(),y(xi,{key:1})),r(Si)]))}}),Li={props:{appointment:{type:Object}},computed:{},data(){return{}},methods:{serveApt(){this.$emit("serveApt",this.appointment)}}},Ui={class:"bg-light p-3 services mb-3 row"},Bi={class:"col-sm-3 text-start"},Ri={class:"mb-1",style:{color:"#196e63"}},Oi={style:{"font-size":"smaller"}},Di={class:"col-sm-6 m-sm-auto mt-4 text-center text-sm-end"};function Mi(s,e,o,n,a,i){return l(),d("tr",null,[t("td",null,[t("div",Ui,[t("div",Bi,[t("h6",Ri,m(o.appointment.service_name)+" - "+m(o.appointment.duration)+" hours ",1),t("span",Oi,m(o.appointment.user_phone_number),1)]),t("div",Di,[t("button",{class:"btn servebtn col-sm-3 mx-auto","data-bs-toggle":"modal","data-bs-target":"#serve",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=(...u)=>i.serveApt&&i.serveApt(...u))}," SERVE ")])])])])}var Vi=b(Li,[["render",Mi]]);const ji={class:"container text-center mt-5"},Qi=t("h4",{class:"mb-5"},"Upcoming Appointments",-1),zi={class:"w-75",style:{display:"inline-block"}},Hi={class:"table table-borderless mx-auto"},Ji={class:"modal fade",id:"serve","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"servelabel","aria-hidden":"true"},Fi={class:"modal-dialog modal-dialog-centered"},Yi={class:"modal-content"},Gi=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"servelabel"},"Serving"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Wi={class:"modal-body text-center my-5"},Ki=p("The customer is being served now."),Xi={props:[],computed:{},data(){return{apts:[]}},mounted(){this.getAllApt()},methods:{serveApt(s){console.log(s)},async getAllApt(){var s="http://localhost:5100/getUpcomingAppointment/1";this.apts=[],await this.axios.get(s).then(e=>{var o=e.data.data.list_of_upcoming_appt;this.apts=o})}}},Zi=Object.assign(Xi,{setup(s){return(e,o)=>{const n=h("h8");return l(),d("div",ji,[Qi,t("div",zi,[t("table",Hi,[t("tbody",null,[(l(!0),d(T,null,C(e.apts,a=>(l(),y(Vi,{key:a.apt_id,appointment:a,onServeApt:e.serveApt},null,8,["appointment","onServeApt"]))),128))])]),t("div",Ji,[t("div",Fi,[t("div",Yi,[Gi,t("div",Wi,[r(n,null,{default:_(()=>[Ki]),_:1})])])])])])])}}}),tl={props:{service:{type:Object}},methods:{EditService(){this.$emit("EditService",this.service)}}},el={class:"bg-light p-3 services mb-3 row g-0"},sl={class:"col-sm-3 text-start"},ol={class:"my-auto"},al={class:"col-6 col-sm-3 text-start text-sm-end mt-3 my-sm-auto",style:{color:"#196e63","font-size":"larger"},id:"timeslot"},nl={class:"col-sm-6 m-sm-auto mt-4 text-center text-sm-end"},il=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),ll=[il],dl=p(" \xA0 "),cl=t("button",{class:"btn cancel mx-auto","data-bs-toggle":"modal","data-bs-target":"#dltitem",style:{"min-width":"max-content"}},[t("i",{class:"fa-solid fa-trash-can"})],-1);function rl(s,e,o,n,a,i){return l(),d("tr",null,[t("td",null,[t("div",el,[t("div",sl,[t("h6",ol,m(o.service.name)+" - "+m(o.service.duration)+" hours",1)]),t("span",al,"$"+m(o.service.price),1),t("div",nl,[t("button",{class:"btn edit mx-auto","data-bs-toggle":"modal","data-bs-target":"#edititem",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=u=>i.EditService())},ll),dl,cl])])])])}var ul=b(tl,[["render",rl]]);const pl={class:"container text-center mt-5",id:"page"},ml=t("h4",{class:"mb-5"},"My Shop",-1),_l={class:"w-75",style:{"max-height":"400px","overflow-y":"scroll",display:"inline-block"}},hl={class:"table table-borderless mx-auto"},bl={class:"modal fade",id:"edititem","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"edititemlabel","aria-hidden":"true"},vl={class:"modal-dialog modal-dialog-centered"},fl={class:"modal-content"},gl=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"edititemlabel"},"Edit Item"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),yl={class:"modal-body text-center my-5"},$l={class:"container mt-4"},wl={class:"col-sm mb-3"},kl={class:"input-group mb-3"},xl={class:"row"},Al={class:"col-sm mb-3"},Tl={class:"input-group"},Cl={class:"col-sm mb-3"},Sl={class:"input-group"},El=t("span",{class:"input-group-text",id:"pricelabel"},"S$",-1),Nl={class:"modal-footer"},ql={class:"modal fade",id:"dltitem","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"dltitemlabel","aria-hidden":"true"},Pl={class:"modal-dialog modal-dialog-centered"},Il={class:"modal-content"},Ll=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"dltitemlabel"},"Delete Item"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ul={class:"modal-body text-center my-5"},Bl=p("Are you sure you want to delete this item?"),Rl=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-target":"#dltcfm","data-bs-toggle":"modal"}," Yes "),t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"modal"}," No ")],-1),Ol={class:"modal fade",id:"dltcfm","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"dltcfmlabel","aria-hidden":"true"},Dl={class:"modal-dialog modal-dialog-centered"},Ml={class:"modal-content"},Vl=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"dltcfmlabel"},"Item Deleted"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),jl={class:"modal-body text-center my-5"},Ql=p("This item is deleted."),zl=A('<div class="pt-3 pb-5"><button class="btn btn-dark rounded-pill px-5 mt-3" data-bs-toggle="modal" data-bs-target="#additem"> Add new item </button></div><div class="modal fade" id="additem" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="additemlabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="additemlabel">Add New Item</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><div class="container mt-4"><div class="col-sm mb-3"><div class="input-group mb-3"><input id="title" type="text" class="form-control" placeholder="Title" aria-label="Title"></div></div><div class="row"><div class="col-sm mb-3"><div class="input-group"><input id="duration" type="text" class="form-control" placeholder="Duration" aria-label="Title"></div></div><div class="col-sm mb-3"><div class="input-group"><span class="input-group-text" id="pricelabel">S$</span><input id="amt" type="text" class="form-control" placeholder="Amount" aria-label="Title" aria-labelledby="pricelabel"></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn mx-auto accept px-4 rounded-pill"> ADD ITEM </button></div></div></div></div>',2),Hl={computed:{},data(){return{services:[],serviceToEdit:{id:"",title:"",duration:"",price:""}}},mounted(){this.getShopServices()},methods:{async updatingServiceApi(s){f().currentUser.accessToken;const o={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${this.$store.state.userToken}`}};var n={name:this.serviceToEdit.name,description:this.serviceToEdit.description,price:this.serviceToEdit.price,duration:this.serviceToEdit.duration};console.log(n);var a="http://localhost:5003/services/1";await this.axios.put(a,n,o).then(i=>{console.log(i)})},EditService(s){this.serviceToEdit=s,console.log(s)},async getShopServices(){var s="http://localhost:5003/services/1";await this.axios.get(s).then(e=>{var o=e.data.data;this.services=o,console.log(this.services)})}}},Jl=Object.assign(Hl,{setup(s){return(e,o)=>{const n=h("h7");return l(),d("div",null,[t("div",pl,[ml,t("div",_l,[t("table",hl,[t("tbody",null,[(l(!0),d(T,null,C(e.services,a=>(l(),y(ul,{key:a.service_id,service:a,onEditService:i=>e.EditService(a)},null,8,["service","onEditService"]))),128))])]),t("div",bl,[t("div",vl,[t("div",fl,[gl,t("div",yl,[t("div",$l,[t("div",wl,[t("div",kl,[v(t("input",{id:"title",type:"text",class:"form-control",placeholder:"Title","aria-label":"Title","onUpdate:modelValue":o[0]||(o[0]=a=>e.serviceToEdit.description=a)},null,512),[[g,e.serviceToEdit.description]])])]),t("div",xl,[t("div",Al,[t("div",Tl,[v(t("input",{id:"duration",type:"text",class:"form-control",placeholder:"Duration","aria-label":"Title","onUpdate:modelValue":o[1]||(o[1]=a=>e.serviceToEdit.duration=a)},null,512),[[g,e.serviceToEdit.duration]])])]),t("div",Cl,[t("div",Sl,[El,v(t("input",{id:"amt",type:"text",class:"form-control",placeholder:"Amount","aria-label":"Title","aria-labelledby":"pricelabel","onUpdate:modelValue":o[2]||(o[2]=a=>e.serviceToEdit.price=a)},null,512),[[g,e.serviceToEdit.price]])])])])])]),t("div",Nl,[t("button",{type:"button",class:"btn mx-auto saveitem px-4 rounded-pill",onClick:o[3]||(o[3]=(...a)=>e.updatingServiceApi&&e.updatingServiceApi(...a)),"data-bs-dismiss":"modal"}," SAVE ITEM ")])])])]),t("div",ql,[t("div",Pl,[t("div",Il,[Ll,t("div",Ul,[r(n,null,{default:_(()=>[Bl]),_:1})]),Rl])])]),t("div",Ol,[t("div",Dl,[t("div",Ml,[Vl,t("div",jl,[r(n,null,{default:_(()=>[Ql]),_:1})])])])])]),zl])])}}});const Fl=s=>(w("data-v-b04e67cc"),s=s(),k(),s),Yl={class:"section"},Gl=Fl(()=>t("h3",{class:"text-center"},"Choose a shop",-1)),Wl=["value"],Kl={data(){return{joinView:!1,phone_number:null,shops:[],shop_id:null}},mounted(){this.getShops()},methods:{async getShops(){var s="http://127.0.0.1:5005/allShops";this.shops=[],await this.axios.get(s).then(e=>{var o=e.data.data;this.shops=o})}}},Xl=Object.assign(Kl,{setup(s){return(e,o)=>{const n=h("RouterLink");return l(),d("div",Yl,[Gl,v(t("select",{class:"form-select shop-select","aria-label":"Default select example","onUpdate:modelValue":o[0]||(o[0]=a=>U(shop_id)?shop_id.value=a:null)},[(l(!0),d(T,null,C(e.shops,a=>(l(),d("option",{value:a.shop_id,key:a.shop_id},m(a.name),9,Wl))),128))],512),[[I,e.shop_id]]),r(n,{to:"/queue/"+e.shop_id},{default:_(()=>[r(N,{label:"Select a shop"})]),_:1},8,["to"])])}}});var Zl=b(Xl,[["__scopeId","data-v-b04e67cc"]]);const td={class:"section p-5"},ed={key:0,class:"success"},sd=t("br",null,null,-1),od=t("br",null,null,-1),ad=t("h3",{class:"text-center"}," Number of people infront of you is: ",-1),nd={class:"text-center"},id={key:1},ld=t("h3",{class:"text-center"},"Something went wrong",-1),dd=[ld],cd={data(){return{queue_number:null,queue_length:0}},mounted(){this.getMyQueue()},methods:{async getMyQueue(){var s="http://127.0.0.1:5002/queue/"+this.$route.params.shop_id+"/"+this.$route.params.phone_number;this.shops=[],await this.axios.get(s).then(e=>{console.log(e),this.queue_number=e.data.queue_number;var o=0;for(var n of e.data.data)if(n.queue_number!=this.queue_number)o++;else break;this.queue_length=o}).then(e=>{})}}},rd=Object.assign(cd,{setup(s){return(e,o)=>{const n=h("RouterLink");return l(),d("div",td,[e.queue_number!=null?(l(),d("div",ed,[r(R,{style:{margin:"auto"},color:"#49C06A",title:"Queue Number",number:e.queue_number},null,8,["number"]),sd,od,ad,t("h1",nd,m(e.queue_length),1)])):(l(),d("div",id,dd)),r(n,{to:"/queue/"+this.$route.params.shop_id},{default:_(()=>[r(N,{onClick:e.leaveJoinView,label:"BACK"},null,8,["onClick"])]),_:1},8,["to"])])}}}),X=lt({history:dt("/"),routes:[{path:"/",name:"home",component:To},{path:"/queue/:shop_id",name:"queue",component:qe},{path:"/queue/:shop_id/:phone_number",name:"queueViewing",component:rd},{path:"/queue/join",name:"JoinQueue",component:Zl},{path:"/appointment",name:"appointment",component:Is,meta:{authRequired:!0}},{path:"/login",name:"login",component:Jo},{path:"/signup",name:"signUp",component:va},{path:"/forgetpassword",name:"forgetPassword",component:Ia},{path:"/shopdetails/:shopid",name:"shopdetails",component:xn},{path:"/admin",name:"AdminHome",component:Ii,meta:{adminRequired:!0}},{path:"/admin/appointment",name:"AdminAppointment",component:Zi,meta:{adminRequired:!0}},{path:"/admin/shop",name:"AdminManageShop",component:Jl,meta:{adminRequired:!0}}]});X.beforeEach((s,e,o)=>{const n=f();s.matched.some(a=>a.meta.authRequired)?q(n,a=>{a?o():o({path:"/"})}):s.matched.some(a=>a.meta.adminRequired)?q(n,a=>{a?a.getIdTokenResult().then(i=>{console.log(i),i.claims.role==="admin"?o():o({path:"/"})}):(alert("You must be logged in to see this page"),o({path:"/"}))}):o()});const ud={apiKey:"AIzaSyBJXxT3zVooZoheT3wVwQgxfsnPBT1ptH4",authDomain:"esd-g3t1-project.firebaseapp.com",projectId:"esd-g3t1-project",storageBucket:"esd-g3t1-project.appspot.com",messagingSenderId:"1014855786050",appId:"1:1014855786050:web:b35a17797f0b43b50c57db"};ct(ud);E.add(rt);E.add(ut);E.add(pt);E.add(mt);E.add(_t);E.add(F);E.add(F,ht,bt);const B=vt(Kt).component("font-awesome-icon",ft),pd=gt({state(){return{userToken:"test"}},mutations:{}});B.use(yt,$t);B.use(X);B.use(pd);B.mount("#app");
