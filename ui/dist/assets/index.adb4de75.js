import{g as f,s as B,o as N,r as _,a as l,c as r,b as t,d as c,e as p,w as h,f as y,p as k,h as A,n as Z,t as m,i as v,v as g,j as I,k as x,l as $,u as tt,F as C,m as T,q as O,x as R,y as Q,z as H,A as D,B as J,C as et,T as j,D as ot,E as st,G as at,H as nt,I as it,J as lt,K as dt,L as rt,M,N as ct,O as ut,P as pt,Q as mt,R as ht,S as G,U as _t,V as bt,W as vt,X as ft,Y as gt,Z as yt,_ as $t}from"./vendor.dea4b22b.js";const wt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}};wt();var b=(o,e)=>{const s=o.__vccOpts||o;for(const[i,a]of e)s[i]=a;return s};const kt={data(){return{LoggedIn:!1}},computed:{cssProps(){}},methods:{openNav(){document.getElementById("mySidenav").style.width="250px"},closeNav(){document.getElementById("mySidenav").style.width="0"},login(){this.$router.push("/login")},logout(){console.log("logout");var o=confirm("Are you sure to logout?");if(o){var e=f();B(e).then(()=>{location.reload(),this.$router.push("/"),alert("Logout Successfully")})}}},mounted(){const o=f();N(o,e=>{e?this.LoggedIn=!0:this.LoggedIn=!1})}},At={class:"container px-2 mt-5 w-100",style:{"z-index":"2",left:"0",right:"0",color:"white!important"},ref:"navbar"},xt=p(" Sign Out \xA0 "),Pt=p(" Log In \xA0 ");function Ct(o,e,s,i,a,n){const d=_("font-awesome-icon");return l(),r("div",null,[t("div",At,[t("span",{style:{"font-size":"30px",cursor:"pointer"},onClick:e[0]||(e[0]=u=>n.openNav())},[c(d,{icon:["fa","bars"]})]),a.LoggedIn?(l(),r("button",{key:0,class:"btn",style:{position:"absolute",right:"0%",color:"white!important"},ref:"navbarBtn",onClick:e[1]||(e[1]=u=>n.logout())},[xt,c(d,{icon:["fa","arrow-right-from-bracket"],style:{"font-size":"larger"}})],512)):(l(),r("button",{key:1,class:"btn",style:{position:"absolute",right:"0%",color:"white!important"},ref:"navbarBtn",onClick:e[2]||(e[2]=u=>n.login())},[Pt,c(d,{icon:["fa","arrow-right-from-bracket"],style:{"font-size":"larger"}})],512))],512)])}var Tt=b(kt,[["render",Ct]]);const St={computed:{cssProps(){}},methods:{closeNav(){document.getElementById("mySidenav").style.width="0"}}},Mt={id:"mySidenav",class:"sidenav",style:{"z-index":"2"}},Et=p("Home"),Nt=p("My Appointments"),qt=p("My Queue");function Ot(o,e,s,i,a,n){const d=_("font-awesome-icon"),u=_("RouterLink");return l(),r("div",Mt,[t("a",{style:{positive:"absolute"},href:"javascript:void(0)",class:"closebtn",onClick:e[0]||(e[0]=P=>n.closeNav())},[c(d,{icon:["fa","bars"]})]),c(u,{to:"/"},{default:h(()=>[Et]),_:1}),c(u,{to:"/appointment"},{default:h(()=>[Nt]),_:1}),c(u,{to:"/queue/join"},{default:h(()=>[qt]),_:1})])}var It=b(St,[["render",Ot]]);const Lt={computed:{cssProps(){}},methods:{closeNav(){document.getElementById("mySidenav").style.width="0"}}},Ut={id:"mySidenav",class:"sidenav",style:{"z-index":"2"}},Bt=p("Home"),Rt=p("Upcoming Appointments"),Dt=p("Manage Shop");function jt(o,e,s,i,a,n){const d=_("font-awesome-icon"),u=_("RouterLink");return l(),r("div",Ut,[t("a",{style:{positive:"absolute"},href:"javascript:void(0)",class:"closebtn",onClick:e[0]||(e[0]=P=>n.closeNav())},[c(d,{icon:["fa","bars"]})]),c(u,{to:"/admin"},{default:h(()=>[Bt]),_:1}),c(u,{to:"/admin/appointment"},{default:h(()=>[Rt]),_:1}),c(u,{to:"/admin/shop"},{default:h(()=>[Dt]),_:1})])}var Vt=b(Lt,[["render",jt]]);const Y=o=>(k("data-v-75b5b68a"),o=o(),A(),o),zt={class:"container-fluid banner"},Qt=Y(()=>t("br",null,null,-1)),Ht=Y(()=>t("div",{class:"jumbotron text-center pt-5 pb-3"},[t("div",{class:"mt-5"},[t("h1",{class:"mb-0",style:{"font-size":"45px"}},"Chook"),t("p",{style:{"font-size":"25px","font-weight":"lighter"}}," Check real time queue & book your next visit anytime, anywhere ")])],-1)),Jt={data(){return{admin:!1}},mounted(){const o=f();N(o,e=>{e&&e.getIdTokenResult().then(s=>{console.log(s),s.claims.role==="admin"?this.admin=!0:this.admin=!1})})}},Gt=Object.assign(Jt,{setup(o){return(e,s)=>(l(),r("div",zt,[Qt,c(Tt),e.admin==!1?(l(),y(It,{key:0})):(l(),y(Vt,{key:1})),Ht]))}});var Yt=b(Gt,[["__scopeId","data-v-75b5b68a"]]);const Ft={style:{position:"relative"}},Xt={data(){return{admin:!0}},mounted(){this.admin=!1},computed:{cssProps(){}},methods:{openNav(){document.getElementById("mySidenav").style.width="250px"},closeNav(){document.getElementById("mySidenav").style.width="0"}}},Wt=Object.assign(Xt,{setup(o){return(e,s)=>{const i=_("RouterView");return l(),r("div",null,[t("header",null,[t("div",Ft,[c(Yt)])]),c(i)])}}});const Kt={props:["title","number","color","label"],computed:{cssProps(){return"background-color: "+this.color}}},Zt=o=>(k("data-v-b02cb646"),o=o(),A(),o),te={class:"card queuebox-card",style:{width:"18rem"}},ee={class:"card-body"},oe={class:"card-text"},se={class:"number-text"},ae=Zt(()=>t("br",null,null,-1));function ne(o,e,s,i,a,n){return l(),r("div",te,[t("div",ee,[t("h5",{class:"card-title",style:Z(n.cssProps)},[t("div",null,m(s.title),1)],4),t("p",oe,[t("span",se,m(s.number),1),ae,p(" "+m(s.label),1)])])])}var U=b(Kt,[["render",ne],["__scopeId","data-v-b02cb646"]]);const ie={props:["label"],computed:{cssProps(){return"background-color: "+this.color}}},le={style:{display:"flex"}},de={type:"button",style:{width:"250px","background-color":"black"},class:"mt-1 btn text-white black-button"};function re(o,e,s,i,a,n){return l(),r("div",le,[t("button",de,m(s.label),1)])}var E=b(ie,[["render",re],["__scopeId","data-v-fa5a4a72"]]);const w=o=>(k("data-v-d2b20546"),o=o(),A(),o),ce=w(()=>t("br",null,null,-1)),ue=w(()=>t("br",null,null,-1)),pe=w(()=>t("br",null,null,-1)),me={key:0,class:"container text-center"},he=$('<div class="row" data-v-d2b20546><div class="col" style="color:#626262;font-weight:bolder;font-size:25px;" data-v-d2b20546> Alan Barber Shop </div></div><div class="row" data-v-d2b20546><div class="col" style="font-size:30px;" data-v-d2b20546>JOIN THE QUEUE</div></div><div class="row mt-5" data-v-d2b20546><div class="col" data-v-d2b20546>Enter Phone Number</div></div>',3),_e={class:"row"},be={class:"col"},ve={class:"input-group input-group-sm mb-3 m-auto mt-1",style:{width:"300px"}},fe=w(()=>t("span",{class:"text-white rounded-start p-2",style:{"background-color":"#196e63"},id:"inputGroup-sizing-sm"},"+65",-1)),ge=w(()=>t("br",null,null,-1)),ye=w(()=>t("br",null,null,-1)),$e=w(()=>t("br",null,null,-1)),we={key:1,class:"default-section"},ke={class:"queuebox-container"},Ae=w(()=>t("br",null,null,-1)),xe=w(()=>t("br",null,null,-1)),Pe=w(()=>t("br",null,null,-1)),Ce=w(()=>t("br",null,null,-1)),Te=w(()=>t("br",null,null,-1)),Se={props:["title","number","color","label"],computed:{cssProps(){return"background-color: "+this.color}},data(){return{joinView:!1,phone_number:null,queue:[],queue_number:0}},mounted(){console.log(this.$store.state.phone_number),this.getQueue()},methods:{async joinQueue(){tt(),console.log(this.phone_number);var o="http://127.0.0.1:5101/queue";this.queue=[],await this.axios.post(o,{shop_id:this.$route.params.shop_id,phone_number:this.phone_number},{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{alert(e.data.msg+"- Click ok to view Queue Number"),this.$store.state.phone_number=this.phone_number,this.$router.push({path:"/queue/"+this.$route.params.shop_id+"/"+this.phone_number})}).catch(e=>{this.getQueueByNumber()})},enterJoinView(){this.joinView=!0},leaveJoinView(){this.joinView=!1},async getQueue(){var o="http://127.0.0.1:5002/queue/"+this.$route.params.shop_id;this.queue=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data;this.queue=s})},async getQueueByNumber(){await this.axios.get("http://127.0.0.1:5002/queue/"+this.$route.params.shop_id+"/"+this.phone_number,{headers:{"Access-Control-Allow-Origin":"*"}}).then(o=>{alert("Your queue number is "+o.data.queue_number),this.queue_number=o.data.queue_number,this.$router.push({path:"/queue/"+this.$route.params.shop_id+"/"+this.phone_number})})}}},Me=Object.assign(Se,{setup(o){return(e,s)=>{const i=_("RouterLink");return l(),r("div",null,[ce,ue,pe,e.joinView?(l(),r("div",me,[he,t("div",_e,[t("div",be,[t("div",ve,[fe,v(t("input",{type:"text",class:"form-control p-2","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm","onUpdate:modelValue":s[0]||(s[0]=a=>I(phone_number)?phone_number.value=a:null)},null,512),[[g,e.phone_number]])])])]),ge,ye,$e,c(E,{onClick:e.joinQueue,label:"JOIN"},null,8,["onClick"]),c(E,{onClick:e.leaveJoinView,label:"BACK"},null,8,["onClick"])])):x("",!0),e.joinView==!1?(l(),r("div",we,[t("div",ke,[c(U,{color:"#49C06A",title:"Now Serving",label:"Customers",number:"5"}),c(U,{color:"#196E63",title:"# People in queue",label:"Customers",number:e.queue.length},null,8,["number"])]),Ae,xe,Pe,e.$store.state.phone_number==null?(l(),y(E,{key:0,onClick:e.enterJoinView,label:"JOIN THE QUEUE"},null,8,["onClick"])):(l(),y(i,{key:1,to:"/queue/"+e.$route.params.shop_id+"/"+e.$store.state.phone_number,style:{color:"#196e63"},class:"fw-bolder"},{default:h(()=>[c(E,{label:"VIEW YOUR QUEUE"})]),_:1},8,["to"]))])):x("",!0),Ce,Te])}}});var Ee=b(Me,[["__scopeId","data-v-d2b20546"]]);const Ne={props:{appointment:{type:Object}},computed:{},data(){return{}},methods:{EditApt(){this.$emit("EditApt",this.appointment)},DeleteApt(){this.$emit("DeleteApt",this.appointment)}}},qe={class:"bg-light p-3 services mb-3 row"},Oe={class:"col-sm-3 text-start"},Ie={class:"mb-1",style:{color:"#196e63"}},Le={style:{"font-size":"smaller"}},Ue={class:"col-6 col-sm-3 text-start text-sm-end mt-3 my-sm-auto",id:"timeslot"},Be={class:"col-6 col-sm-3 text-end mt-3 my-sm-auto",id:"status"},Re={class:"col-sm-3 m-sm-auto mt-4 text-center text-sm-end"},De=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),je=[De],Ve=p(" \xA0 ");function ze(o,e,s,i,a,n){const d=_("font-awesome-icon");return l(),r("tr",null,[t("td",null,[t("div",qe,[t("div",Oe,[t("h6",Ie,m(s.appointment.service_name)+" - "+m(s.appointment.duration)+" minutes ",1),t("span",Le,m(s.appointment.shop_name),1)]),t("span",Ue,m(s.appointment.date)+", "+m(s.appointment.time),1),t("span",Be,m(s.appointment.status),1),t("div",Re,[t("button",{class:"btn edit col-sm-3 mx-auto","data-bs-toggle":"modal","data-bs-target":"#changeappt",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=(...u)=>n.EditApt&&n.EditApt(...u))},je),Ve,t("button",{class:"btn cancel col-sm-3 mx-auto","data-bs-toggle":"modal","data-bs-target":"#cancelappt",onClick:e[1]||(e[1]=(...u)=>n.DeleteApt&&n.DeleteApt(...u)),style:{"min-width":"max-content"}},[c(d,{icon:["fas","ban"]})])])])])])}var Qe=b(Ne,[["render",ze]]);const He={class:"container text-center mt-5"},Je=t("h4",{class:"mb-5"},"My Appointments",-1),Ge={class:"w-75",style:{"max-height overflow-y":"scroll",display:"inline-block"}},Ye={class:"table table-borderless mx-auto"},Fe={key:0},Xe={class:"modal fade",id:"changeappt","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"changeapptlabel","aria-hidden":"true"},We={class:"modal-dialog modal-dialog-centered"},Ke={class:"modal-content"},Ze=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"changeapptlabel"}," Change Appointment "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),to={class:"modal-body text-center"},eo=t("h6",null,"Choose a timeslot",-1),oo={class:"container mt-4"},so={class:"row"},ao={class:"col-sm mb-3"},no=p(" Date \xA0 "),io=["value"],lo=$('<option value="07/04/22">07/04/22</option><option value="08/04/22">08/04/22</option><option value="09/04/22">09/04/22</option><option value="10/04/22">10/04/22</option><option value="11/04/22">11/04/22</option><option value="12/04/22">12/04/22</option><option value="13/04/22">13/04/22</option><option value="14/04/22">14/04/22</option><option value="15/04/22">15/04/22</option><option value="16/04/22">16/04/22</option>',10),ro={class:"col-sm mb-3"},co=p(" Time \xA0 "),uo=["value"],po=$('<option value="10:00 AM">10:00 AM</option><option value="10:30 AM">10:30 AM</option><option value="11:00 AM">11:00 AM</option><option value="11:30 AM">11:30 AM</option><option value="12:00 PM">12:00 PM</option><option value="12:30 PM">12:30 PM</option><option value="01:00 PM">01:00 PM</option><option value="01:30 PM">01:30 PM</option><option value="02:00 PM">02:00 PM</option><option value="02:30 PM">02:30 PM</option><option value="03:00 PM">03:00 PM</option><option value="03:30 PM">03:30 PM</option><option value="04:00 PM">04:00 PM</option><option value="04:30 PM">04:30 PM</option><option value="05:00 PM">05:00 PM</option><option value="05:30 PM">05:30 PM</option><option value="06:00 PM">06:00 PM</option><option value="06:30 PM">06:30 PM</option><option value="07:00 PM">07:00 PM</option><option value="07:30 PM">07:30 PM</option><option value="08:00 PM">08:00 PM</option><option value="08:30 PM">08:30 PM</option>',22),mo={class:"modal-footer"},ho=$('<div class="modal fade" id="confirmation" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="confirmationlabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="confirmationlabel"> Appointment Changed Successfully </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><h6>Your appointment has been changed. The shop will be processing your booking shortly.</h6></div></div></div></div>',1),_o={class:"modal fade",id:"cancelappt","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"cancelapptlabel","aria-hidden":"true"},bo={class:"modal-dialog modal-dialog-centered"},vo={class:"modal-content"},fo=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"cancelapptlabel"}," Cancel Appointment "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),go={class:"modal-body text-center my-5"},yo=p("Are you sure you want to cancel appointment for "),$o={id:"service_name"},wo=p(" at "),ko={id:"shopname"},Ao=p("?"),xo={class:"modal-footer","data-bs-dismiss":"modal"},Po=t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"#cancelappt"}," No ",-1),Co=$('<div class="modal fade" id="cancelcfm" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="cancellabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="cancellabel"> Appointment Cancelled Successfully </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><h6>Your appointment is cancelled.</h6></div></div></div></div>',1),To={props:[],computed:{},data(){return{apts:[],aptToEdit:{apt_id:1,date_time:"12/2/22, 12:00PM",date:"",time:"",service_name:"Hair Coloring with bleaching",duration:4,status:"Booking processing",shop_name:"Red Head Salon"},aptToDelete:{apt_id:1,date_time:"12/2/22, 12:00PM",service_name:"Hair Coloring with bleaching",duration:4,status:"Booking processing",shop_name:"Red Head Salon"},phoneNum:""}},mounted(){const o=f(),e=R();N(o,s=>{if(s){const i=Q(D(e,"users"),H("uid","==",s.uid));J(i).then(a=>{a.forEach(n=>{console.log(n.id," => ",n.data());let d=n.data().phoneNumber;this.phoneNum=d,this.get_appt(this.phoneNum)})})}})},methods:{EditApt(o){this.aptToEdit=o},async confirmEdit(o){const s=f().currentUser.accessToken,i={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:"Bearer "+s}};let a="20"+o.date.split("/").reverse().join("-"),n="";o.time.slice(-2)=="PM"?o.time.slice(0,2)=="12"?n=o.time.slice(0,5)+":00":n=12+parseInt(o.time.slice(0,2))+o.time.slice(2,5)+":00":n=o.time.slice(0,5)+":00";const d={date_time:a+" "+n,duration:o.duration,service_service_id:o.service_service_id,user_phone_number:o.user_phone_number};console.log(d);const u="http://localhost:5000/allAppointments/"+o.apt_id;console.log(u),await this.axios.put(u,d,i).then(P=>{alert("Your booking has been modified successfully to "+o.date_time)}).catch(P=>{alert("This timeslot clashes with another booking, please select another timeslot!")})},DeleteApt(o){this.aptToDelete=o},confirmDelete(o){var e="http://127.0.0.1:5000/allAppointments/"+o;this.axios.delete(e,{headers:{"Access-Control-Allow-Origin":"*"}}),location.reload(),this.get_appt(this.phoneNum)},async get_appt(o){this.apts=[];const s=f().currentUser.accessToken,i={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${s}`}};await this.axios.get("http://127.0.0.1:5100/view_appointment/"+o,i).then(a=>{this.apts=[];var n=a.data.data.list_of_appt.data;for(var d of n){d.vendor_confirm==0?d.status="Booking Processing":d.vendor_confirm==1?d.status="Booking Confirmed":d.status="Rejected";var u=d.date_time.slice(0,11),P=d.date_time.slice(11,16);parseInt(P.slice(0,2))>=12?P+="pm":P+="am",d.date=u,d.time=P,this.apts.push(d)}})}}},So=Object.assign(To,{setup(o){return(e,s)=>(l(),r("div",He,[Je,t("div",Ge,[t("table",Ye,[t("tbody",null,[(l(!0),r(C,null,T(e.apts,i=>(l(),y(Qe,{key:i.apt_id,appointment:i,onEditApt:a=>e.EditApt(i),onDeleteApt:a=>e.DeleteApt(i)},null,8,["appointment","onEditApt","onDeleteApt"]))),128)),e.apts.length==0?(l(),r("p",Fe,m(e.appt_msg),1)):x("",!0)])]),t("div",Xe,[t("div",We,[t("div",Ke,[Ze,t("div",to,[eo,t("div",oo,[t("div",so,[t("div",ao,[no,v(t("select",{name:"date",id:"date",class:"rounded-pill bg-light p-2 btn","onUpdate:modelValue":s[0]||(s[0]=i=>e.aptToEdit.date=i)},[t("option",{value:e.aptToEdit.date},m(e.aptToEdit.date),9,io),lo],512),[[O,e.aptToEdit.date]])]),t("div",ro,[co,v(t("select",{name:"date",id:"date",class:"rounded-pill bg-light p-2 btn","onUpdate:modelValue":s[1]||(s[1]=i=>e.aptToEdit.time=i)},[t("option",{value:e.aptToEdit.time},m(e.aptToEdit.time),9,uo),po],512),[[O,e.aptToEdit.time]])])])])]),t("div",mo,[t("button",{onClick:s[2]||(s[2]=i=>e.confirmEdit(e.aptToEdit)),type:"button",class:"btn mx-auto rebook px-4 rounded-pill","data-bs-target":"#confirmation","data-bs-dismiss":"modal"}," CONFIRM ")])])])]),ho,t("div",_o,[t("div",bo,[t("div",vo,[fo,t("div",go,[t("h6",null,[yo,t("span",$o,m(e.aptToDelete.service_name),1),wo,t("span",ko,m(e.aptToDelete.shop_name),1),Ao])]),t("div",xo,[t("button",{"data-bs-dismiss":"#cancelappt",onClick:s[3]||(s[3]=i=>e.confirmDelete(e.aptToDelete.apt_id)),type:"button",class:"btn mx-auto px-4 rounded-pill"}," Yes "),Po])])])]),Co])]))}});var F="/assets/DeepCutsSG.7bc10ac4.jpg";const Mo={props:["shopName","shopid"]},Eo=o=>(k("data-v-3e57c96d"),o=o(),A(),o),No={class:"col"},qo={class:"card"},Oo=Eo(()=>t("img",{src:F,class:"card-img-top w-100",alt:"..."},null,-1)),Io={class:"card-body"},Lo={class:"card-title"};function Uo(o,e,s,i,a,n){const d=_("RouterLink");return l(),r("div",No,[t("div",qo,[c(d,{to:{name:"shopdetails",params:{shopname:s.shopName,shopid:s.shopid}}},{default:h(()=>[Oo]),_:1},8,["to"]),t("div",Io,[t("h5",Lo,m(s.shopName),1)])])])}var Bo=b(Mo,[["render",Uo],["__scopeId","data-v-3e57c96d"]]);const Ro={},V=o=>(k("data-v-2eafe55c"),o=o(),A(),o),Do={class:"navbar navbar-expand-lg navbar-light m-0"},jo={class:"container-fluid px-0"},Vo=V(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),zo={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Qo=V(()=>t("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0"},[t("li",{class:"nav-item"},[t("a",{class:"nav-link active","aria-current":"page",href:"#"},"Shops")]),t("li",{class:"nav-item dropdown"},[t("a",{class:"nav-link",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Category "),t("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdown"},[t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Hair")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Food")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Health")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Beauty")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Spa")])])]),t("li",{class:"nav-item"},[t("a",{class:"nav-link",href:"#"},"Near Me")])],-1)),Ho={class:"d-flex"},Jo=V(()=>t("input",{class:"form-control me-2 rounded-pill",type:"search",placeholder:"Search","aria-label":"Search"},null,-1)),Go={class:"btn",type:"submit"};function Yo(o,e,s,i,a,n){const d=_("font-awesome-icon");return l(),r("div",null,[t("nav",Do,[t("div",jo,[Vo,t("div",zo,[Qo,t("form",Ho,[Jo,t("button",Go,[c(d,{icon:["fa","magnifying-glass"]})])])])])])])}var X=b(Ro,[["render",Yo],["__scopeId","data-v-2eafe55c"]]);const S=o=>(k("data-v-62868f8a"),o=o(),A(),o),Fo={class:"container px-5"},Xo={class:"my-4 position-relative w-100"},Wo={class:"btn-group"},Ko={class:"btn rounded-pill btn-outline-dark","data-bs-toggle":"dropdown","aria-expanded":"false",style:{"font-size":"smaller","margin-right":"10px"}},Zo=p(" Sort \xA0 "),ts=S(()=>t("ul",{class:"dropdown-menu"},[t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Most Popular")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Price (low to high)")]),t("li",null,[t("a",{class:"dropdown-item",href:"#"},"Price (high to low)")])],-1)),es={class:"btn-group position-absolute",style:{right:"0%"}},os={class:"btn rounded-pill btn-outline-dark",style:{"font-size":"smaller"},"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},ss=p(" Filter \xA0"),as={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ns={class:"modal-dialog",style:{top:"150px"}},is={class:"modal-content"},ls=S(()=>t("div",{class:"modal-header"},[t("h6",{class:"modal-title mx-auto",id:"staticBackdropLabel"}," Filter ")],-1)),ds={class:"modal-body px-5"},rs=S(()=>t("label",{for:"basic-url",class:"form-label"},"Price Range",-1)),cs={class:"input-group mb-4"},us=S(()=>t("br",null,null,-1)),ps=p("S$0 - S$"),ms={ref:"max"},hs=S(()=>t("label",{for:"basic-url",class:"form-label"},"Location",-1)),_s=S(()=>t("br",null,null,-1)),bs=S(()=>t("div",{class:"btn-group mb-4 w-100",role:"group","aria-label":"Basic checkbox toggle button group"},[t("input",{type:"checkbox",class:"btn-check",id:"north",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"north"},"North"),t("input",{type:"checkbox",class:"btn-check",id:"south",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"south"},"South"),t("input",{type:"checkbox",class:"btn-check",id:"east",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"east"},"East"),t("input",{type:"checkbox",class:"btn-check",id:"west",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"west"},"West"),t("input",{type:"checkbox",class:"btn-check",id:"central",autocomplete:"off"}),t("label",{class:"btn btn-outline-dark",for:"central"},"Central")],-1)),vs=S(()=>t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",style:{"font-size":"smaller"}}," Cancel "),t("button",{type:"button",class:"btn btn-primary",style:{"font-size":"smaller"}}," Apply Filters ")],-1)),fs={class:"row row-cols-1 row-cols-md-3 g-4 mb-5"},gs={props:[],computed:{},data(){return{shops:[]}},mounted(){this.getShops(),this.shops=[]},methods:{slider(o){this.$refs.max.innerText=o.target.value},async getShops(){var o="http://127.0.0.1:5005/allShops";this.shops=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data;this.shops=s})}}},ys=Object.assign(gs,{setup(o){return(e,s)=>{const i=_("font-awesome-icon"),a=_("h7");return l(),r("div",null,[t("div",Fo,[c(X),t("div",Xo,[t("div",Wo,[t("button",Ko,[Zo,c(i,{icon:["fa","sort"]})]),ts]),t("div",es,[t("button",os,[ss,c(i,{icon:["fa","filter"]})]),t("div",as,[t("div",ns,[t("div",is,[ls,t("div",ds,[rs,t("div",cs,[t("input",{id:"pricerange",type:"range",min:"1",max:"1000",value:"500",class:"slider rounded-pill",onInput:s[0]||(s[0]=n=>e.slider(n))},null,32),us,c(a,{class:"values"},{default:h(()=>[ps,t("span",ms,"$500",512)]),_:1})]),hs,_s,bs]),vs])])])])]),t("div",fs,[(l(!0),r(C,null,T(e.shops,n=>(l(),y(Bo,{shopName:n.name,shopid:n.shop_id,key:n.shop_id},null,8,["shopName","shopid"]))),128))])])])}}});var $s=b(ys,[["__scopeId","data-v-62868f8a"]]);const ws={data(){return{email:"",password:"",error:"",showP:!1}},methods:{async logIn(){event.preventDefault(),this.error="";const o=f();if(this.email==""){this.error="Please enter your email";return}if(this.password==""){this.error="Please enter your password";return}et(o,this.email,this.password).then(()=>{const e=o.currentUser;e.emailVerified?e.getIdTokenResult().then(i=>{console.log(i),i.claims.role==="admin"?this.$router.push("/admin"):this.$router.push("/")}):(this.setupPopup(),B(o).then(()=>{}))}).catch(e=>{console.log(e),e.code=="auth/invalid-email"?this.error="The email you entered is invalid":e.code=="auth/user-not-found"?this.error="User not found with the given email address":e.code=="auth/wrong-password"?this.error="Wrong Password":e.code=="auth/too-many-requests"?this.error="Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later":this.error=e.message})},setupPopup(){this.showP=!0,setTimeout(()=>this.showP=!1,3e3)}}},z=o=>(k("data-v-35fd51ea"),o=o(),A(),o),ks={key:0,class:"popup"},As=p(" Please verify your email to login!"),xs=z(()=>t("br",null,null,-1)),Ps=[As,xs],Cs={class:"container mt-5",style:{"max-width":"400px"}},Ts={class:"mb-4"},Ss=z(()=>t("label",{for:"email",class:"form-label"},"Email",-1)),Ms={class:"mb-3"},Es=z(()=>t("label",{for:"password",class:"form-label"},"Password",-1)),Ns={id:"forgetpw",class:"form-text"},qs=p("Forget Password?"),Os={class:"error"},Is={key:0,class:"text-center text-danger"},Ls={class:"text-center mt-2 mb-2"},Us={class:"text-center"},Bs=p(" New user? "),Rs=p("SIGN UP");function Ds(o,e,s,i,a,n){const d=_("RouterLink");return l(),r("div",null,[c(j,{name:"popup"},{default:h(()=>[a.showP?(l(),r("div",ks,Ps)):x("",!0)]),_:1}),t("div",Cs,[t("div",Ts,[Ss,v(t("input",{type:"username",class:"form-control border-top-0 border-start-0 border-end-0",id:"email","onUpdate:modelValue":e[0]||(e[0]=u=>a.email=u)},null,512),[[g,a.email]])]),t("div",Ms,[Es,v(t("input",{type:"password",class:"form-control border-top-0 border-start-0 border-end-0",id:"password","aria-describedby":"forgetpw","onUpdate:modelValue":e[1]||(e[1]=u=>a.password=u)},null,512),[[g,a.password]]),t("div",Ns,[c(d,{to:"/forgetpassword",style:{color:"#818181"},class:"text-decoration-none"},{default:h(()=>[qs]),_:1})])]),t("div",Os,[a.error?(l(),r("p",Is,m(a.error),1)):x("",!0)]),t("div",Ls,[t("button",{class:"btn btn-dark rounded-pill px-5",onClick:e[2]||(e[2]=u=>n.logIn())}," LOG IN ")]),t("div",Us,[Bs,c(d,{to:"/signup",style:{color:"#196e63"},class:"fw-bolder"},{default:h(()=>[Rs]),_:1})])])])}var js=b(ws,[["render",Ds],["__scopeId","data-v-35fd51ea"]]);const Vs={data(){return{username:"",password:"",confirmPassword:"",phoneNum:"",email:"",error:"",showP:!1}},methods:{signUp(){event.preventDefault();const o=f(),e=R();if(this.error="",this.username==""){this.error="Please enter a username";return}this.password==this.confirmPassword?ot(o,this.email,this.password).then(s=>{const i=s.user;console.log(i),console.log(this.phoneNum),st(o.currentUser,{displayName:this.username}),at(D(e,"users"),{uid:i.uid,phoneNumber:this.phoneNum}),nt(o.currentUser).then(()=>{this.setupPopup()}),B(o).then(()=>{})}).catch(s=>{console.log(s),s.code=="auth/weak-password"?this.error="The password you entered is too weak":s.code=="auth/email-already-in-use"?this.error="The email you entered is already in use":s.code=="auth/invalid-email"?this.error="The email you entered is invalid":this.error=s.code}):this.error="Your passwords do not match!"},setupPopup(){this.showP=!0,setTimeout(()=>this.showP=!1,3e3)}}},q=o=>(k("data-v-0c580d62"),o=o(),A(),o),zs={key:0,class:"popup"},Qs=p(" Verification email has been sent to your inbox."),Hs=q(()=>t("br",null,null,-1)),Js=p(" Please verify to log in! "),Gs=[Qs,Hs,Js],Ys={class:"container mt-5",style:{"max-width":"400px"}},Fs={class:"mb-4"},Xs=q(()=>t("label",{for:"username",class:"form-label"},"Username",-1)),Ws={class:"mb-4"},Ks=q(()=>t("label",{for:"email",class:"form-label"},"Email address",-1)),Zs={class:"mb-4"},ta=q(()=>t("label",{for:"phoneNum",class:"form-label"},"Phone Number",-1)),ea={class:"mb-4"},oa=q(()=>t("label",{for:"pw",class:"form-label"},"Password",-1)),sa={class:"mb-4"},aa=q(()=>t("label",{for:"cfmpw",class:"form-label"},"Confirm Password",-1)),na={class:"error"},ia={key:0,class:"text-center text-danger"},la={class:"text-center mt-2 mb-5"},da={class:"text-center"},ra=p(" Have an account? "),ca=p("LOG IN");function ua(o,e,s,i,a,n){const d=_("RouterLink");return l(),r("div",null,[c(j,{name:"popup"},{default:h(()=>[a.showP?(l(),r("div",zs,Gs)):x("",!0)]),_:1}),t("div",Ys,[t("form",null,[t("div",Fs,[Xs,v(t("input",{type:"text",class:"form-control border-top-0 border-start-0 border-end-0",id:"username","onUpdate:modelValue":e[0]||(e[0]=u=>a.username=u)},null,512),[[g,a.username]])]),t("div",Ws,[Ks,v(t("input",{type:"email",class:"form-control border-top-0 border-start-0 border-end-0",id:"email","onUpdate:modelValue":e[1]||(e[1]=u=>a.email=u)},null,512),[[g,a.email]])]),t("div",Zs,[ta,v(t("input",{type:"text",class:"form-control border-top-0 border-start-0 border-end-0",id:"phoneNum","onUpdate:modelValue":e[2]||(e[2]=u=>a.phoneNum=u)},null,512),[[g,a.phoneNum]])]),t("div",ea,[oa,v(t("input",{type:"password",class:"form-control border-top-0 border-start-0 border-end-0",id:"pw","onUpdate:modelValue":e[3]||(e[3]=u=>a.password=u)},null,512),[[g,a.password]])]),t("div",sa,[aa,v(t("input",{type:"password",class:"form-control border-top-0 border-start-0 border-end-0",id:"cfmpw","onUpdate:modelValue":e[4]||(e[4]=u=>a.confirmPassword=u)},null,512),[[g,a.confirmPassword]])]),t("div",na,[a.error?(l(),r("p",ia,m(a.error),1)):x("",!0)]),t("div",la,[t("button",{class:"btn btn-dark rounded-pill px-5",onClick:e[5]||(e[5]=u=>n.signUp())}," SIGN UP ")]),t("div",da,[ra,c(d,{to:"/login",style:{color:"#196e63"},class:"fw-bolder"},{default:h(()=>[ca]),_:1})])])])])}var pa=b(Vs,[["render",ua],["__scopeId","data-v-0c580d62"]]);const ma={data(){return{email:"",error:"",showP:!1}},methods:{sendLink(){event.preventDefault();const o=f();it(o,this.email).then(()=>{this.setupPopup()}).catch(e=>{this.error=e})},setupPopup(){this.showP=!0,setTimeout(()=>this.showP=!1,3e3)}}},W=o=>(k("data-v-ce002486"),o=o(),A(),o),ha={key:0,class:"popup"},_a=p(" Please check your email to reset your password!"),ba=W(()=>t("br",null,null,-1)),va=[_a,ba],fa={class:"container mt-5",style:{"max-width":"400px"}},ga={class:"mb-4"},ya=W(()=>t("label",{for:"email",class:"form-label"},"Please enter your Email address",-1)),$a={class:"error"},wa={key:0,class:"text-center text-danger"},ka={class:"text-center mb-5"},Aa={class:"text-center"},xa=p(" Back to "),Pa=p("LOG IN");function Ca(o,e,s,i,a,n){const d=_("RouterLink");return l(),r("div",null,[c(j,{name:"popup"},{default:h(()=>[a.showP?(l(),r("div",ha,va)):x("",!0)]),_:1}),t("div",fa,[t("form",null,[t("div",ga,[ya,v(t("input",{type:"email",class:"form-control border-top-0 border-start-0 border-end-0",id:"email","onUpdate:modelValue":e[0]||(e[0]=u=>a.email=u)},null,512),[[g,a.email]])]),t("div",$a,[a.error?(l(),r("p",wa,m(a.error),1)):x("",!0)]),t("div",ka,[t("button",{type:"submit",class:"btn btn-dark rounded-pill px-5",onClick:e[1]||(e[1]=(...u)=>n.sendLink&&n.sendLink(...u))}," SEND RESET LINK ")]),t("div",Aa,[xa,c(d,{to:"/login",style:{color:"#196e63"},class:"fw-bolder"},{default:h(()=>[Pa]),_:1})])])])])}var Ta=b(ma,[["render",Ca],["__scopeId","data-v-ce002486"]]);const Sa={class:"container px-5"},Ma={class:"mt-4"},Ea={class:"text-center shopname"},Na=t("div",{style:{width:"100%",height:"250px"}},[t("img",{src:F,class:"w-100 h-100",style:{"object-fit":"cover"}})],-1),qa=t("span",{class:"position-fixed border py-2 px-3 telebotlink mt-3",style:{left:"0%"}},[p(" Use our "),t("a",{href:"https://t.me/ESDg3t1_Queue_bot",id:"telebotlink"},"Telegram Bot"),p(" to check queue & make appointments!")],-1),Oa={class:"container w-75 mt-5"},Ia={class:"container w-100 position-relative mb-2"},La=t("br",null,null,-1),Ua={class:"btn btn-sm rounded-pill refresh position-absolute",style:{right:"0","z-index":"99"}},Ba={class:"border text-center qinfo pt-3"},Ra={class:"row"},Da={class:"col-sm-4"},ja={class:"table table-borderless"},Va=t("thead",null,[t("tr",null,[t("th",null,"Serving")])],-1),za=$('<div class="col-sm-4"><table class="table table-borderless"><thead><tr><th>Walk-in Queue</th></tr></thead><tbody><tr><td>5</td></tr></tbody></table></div><div class="col-sm-4"><table class="table table-borderless"><thead><tr><th>Avg Serving Time</th></tr></thead><tbody><tr><td>15 mins</td></tr></tbody></table></div>',2),Qa=t("div",{class:"text-center"},[t("button",{class:"btn btn-dark rounded-pill px-4 mt-3 mx-auto",style:{"font-size":"smaller"}}," JOIN QUEUE ")],-1),Ha={class:"my-5"},Ja=t("h5",{class:"text-center"},"Book an Appointment",-1),Ga={class:"container w-sm-50 mt-4",style:{"max-width":"max-content"}},Ya={class:"col-6 my-auto"},Fa={class:"col text-end my-auto price"},Xa=["onClick"],Wa={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ka={class:"modal-dialog modal-dialog-centered"},Za={class:"modal-content"},tn=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"staticBackdropLabel"},"Title"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),en={class:"modal-body text-center"},on=p("Choose a timeslot"),sn={class:"container mt-4"},an={class:"row"},nn={class:"col-sm mb-3"},ln=p(" Date \xA0 "),dn=$('<option value="07/04/22">07/04/22</option><option value="08/04/22">08/04/22</option><option value="09/04/22">09/04/22</option><option value="10/04/22">10/04/22</option><option value="11/04/22">11/04/22</option><option value="12/04/22">12/04/22</option><option value="13/04/22">13/04/22</option><option value="14/04/22">14/04/22</option><option value="15/04/22">15/04/22</option><option value="16/04/22">16/04/22</option>',10),rn=[dn],cn={class:"col-sm mb-3"},un=p(" Time \xA0 "),pn=$('<option value="10:00 AM">10:00 AM</option><option value="10:30 AM">10:30 AM</option><option value="11:00 AM">11:00 AM</option><option value="11:30 AM">11:30 AM</option><option value="12:00 PM">12:00 PM</option><option value="12:30 PM">12:30 PM</option><option value="01:00 PM">01:00 PM</option><option value="01:30 PM">01:30 PM</option><option value="02:00 PM">02:00 PM</option><option value="02:30 PM">02:30 PM</option><option value="03:00 PM">03:00 PM</option><option value="03:30 PM">03:30 PM</option><option value="04:00 PM">04:00 PM</option><option value="04:30 PM">04:30 PM</option><option value="05:00 PM">05:00 PM</option><option value="05:30 PM">05:30 PM</option><option value="06:00 PM">06:00 PM</option><option value="06:30 PM">06:30 PM</option><option value="07:00 PM">07:00 PM</option><option value="07:30 PM">07:30 PM</option><option value="08:00 PM">08:00 PM</option><option value="08:30 PM">08:30 PM</option>',22),mn=[pn],hn={class:"modal-footer","data-bs-dismiss":"modal"},_n={data(){return{shopname:"",shopid:"",selectedid:"",selectedDuration:"",service:[],date:"02/03/22",time:"09:00 AM",qs:0,phoneNum:null}},mounted(){const o=f(),e=R();this.getShop(),this.getQueue(),N(o,s=>{if(s){const i=Q(D(e,"users"),H("uid","==",s.uid));J(i).then(a=>{a.forEach(n=>{console.log(n.id," => ",n.data());let d=n.data().phoneNumber;this.phoneNum=d})})}})},methods:{bookfunc(o,e,s){var i=o.target.parentElement.children[0].innerText;document.getElementById("staticBackdropLabel").innerText=i,this.selectedid=e,this.selectedDuration=s},book(o,e,s){var i="20"+e.slice(6)+"-"+e.slice(3,5)+"-"+e.slice(0,2),a;s.slice(6)=="AM"?a=s.slice(0,2):a=(parseInt(s.slice(0,2))+12).toString();var n=a+":"+s.slice(3,5)+":00",d=i+" "+n;console.log(d),this.process_book(d)},async process_book(o){const s=f().currentUser.accessToken,i={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${s}`}};var a="http://127.0.0.1:5100/book_appointment/"+this.phoneNum;await this.axios.post(a,{date_time:o,shop_shop_id:this.shopid,service_service_id:this.selectedid,duration:this.selectedDuration},i).then(n=>{console.log(n.data),alert("Your booking has been confirmed on "+o)}).catch(n=>{alert("You booking has failed due to a schedule conflict! Please book for another timeslot!")})},redirect(){window.location.replace("http://localhost:3000/appointment")},getShop(){this.shopid=this.$route.params.shopid,this.shopname=this.$route.params.shopname;var o="http://127.0.0.1:5003/services/"+this.shopid;this.display_detail(o)},async display_detail(o){this.apts=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{console.log(e.data.data),this.service=e.data.data})},async getQueue(){var o="http://127.0.0.1:5002/queue/1";this.queue=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data;this.qs=s.length})}}},bn=Object.assign(_n,{setup(o){return(e,s)=>{const i=_("font-awesome-icon"),a=_("h8");return l(),r("div",null,[t("div",Sa,[c(X)]),t("div",Ma,[t("h5",Ea,m(e.shopname),1),Na]),qa,t("div",Oa,[t("div",Ia,[La,t("button",Ua,[c(i,{icon:["fa","arrows-rotate"]})])]),t("div",Ba,[t("div",Ra,[t("div",Da,[t("table",ja,[Va,t("tbody",null,[t("tr",null,[t("td",null,m(e.qs),1)])])])]),za])]),Qa,t("div",Ha,[Ja,t("div",Ga,[(l(!0),r(C,null,T(e.service,n=>(l(),r("div",{key:n.service_id,class:"bg-light p-3 services mb-3 row"},[t("h6",Ya,m(n.name)+" - "+m(n.duration+" mins"),1),t("span",Fa,"$"+m(n.price),1),t("button",{class:"btn book col-sm-3 mx-auto",style:{"max-width":"100px"},"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",onClick:d=>e.bookfunc(d,n.service_id,n.duration)}," BOOK ",8,Xa)]))),128)),t("div",Wa,[t("div",Ka,[t("div",Za,[tn,t("div",en,[c(a,null,{default:h(()=>[on]),_:1}),t("div",sn,[t("div",an,[t("div",nn,[ln,v(t("select",{"onUpdate:modelValue":s[0]||(s[0]=n=>I(date)?date.value=n:null),name:"date",id:"date",class:"rounded-pill bg-light p-2 btn"},rn,512),[[O,e.date]])]),t("div",cn,[un,v(t("select",{"onUpdate:modelValue":s[1]||(s[1]=n=>I(time)?time.value=n:null),name:"date",id:"date",class:"rounded-pill bg-light p-2 btn"},mn,512),[[O,e.time]])])])])]),t("div",hn,[t("button",{type:"button",class:"btn mx-auto book px-4 rounded-pill",onClick:s[2]||(s[2]=n=>e.book(e.selectedid,e.date,e.time))}," CONFIRM ")])])])])])])])])}}}),vn={props:{appointment:{type:Object}},computed:{},data(){return{}},methods:{cancelApt(){this.$emit("cancelApt",this.appointment)},acceptApt(){this.$emit("acceptApt",this.appointment)}}},fn={class:"bg-light p-3 services mb-3 row"},gn={class:"col-sm-3 text-start"},yn={class:"mb-1",style:{color:"#196e63"}},$n={style:{"font-size":"smaller"}},wn={class:"col-6 col-sm-3 text-start text-sm-end mt-3 my-sm-auto",id:"timeslot"},kn={class:"col-sm-6 m-sm-auto mt-4 text-center text-sm-end"},An=p(" \xA0 ");function xn(o,e,s,i,a,n){const d=_("font-awesome-icon");return l(),r("tr",null,[t("td",null,[t("div",fn,[t("div",gn,[t("h6",yn,m(s.appointment.service_name),1),t("span",$n,m(s.appointment.user_phone_number),1)]),t("span",wn,m(s.appointment.date_time.split(" ")[0])+", "+m(s.appointment.date_time.split(" ")[1]),1),t("div",kn,[t("button",{class:"btn accept mx-auto","data-bs-toggle":"modal","data-bs-target":"#acceptappt",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=(...u)=>n.acceptApt&&n.acceptApt(...u))},[c(d,{icon:["fa-solid","check"]})]),An,t("button",{class:"btn cancel mx-auto","data-bs-toggle":"modal","data-bs-target":"#cancelappt",onClick:e[1]||(e[1]=(...u)=>n.cancelApt&&n.cancelApt(...u)),style:{"min-width":"max-content"}},[c(d,{icon:["fa-solid","ban"]})])])])])])}var Pn=b(vn,[["render",xn]]);const Cn={class:"container text-center mt-5",id:"page"},Tn=t("h4",{class:"mb-5"},"Appointment Requests",-1),Sn={class:"w-75",style:{display:"inline-block"}},Mn={class:"table table-borderless mx-auto"},En=$('<div class="modal fade" id="acceptappt" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="acceptlabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="acceptlabel">Booking Accepted</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><span>The appointment is confirmed.</span></div></div></div></div>',1),Nn={class:"modal fade",id:"cancelappt","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"cancelapptlabel","aria-hidden":"true"},qn={class:"modal-dialog modal-dialog-centered"},On={class:"modal-content"},In=$('<div class="modal-header"><h5 class="modal-title" id="cancelapptlabel"> Reject Appointment </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><span>Are you sure you want to reject appointment for <span id="servicename"></span> for <span id="shopname"></span>?</span></div>',2),Ln={class:"modal-footer"},Un=t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"modal"}," No ",-1),Bn=$('<div class="modal fade" id="cancelcfm" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="cancellabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="cancellabel"> Appointment Rejected </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><span>The appointment is rejected.</span></div></div></div></div>',1),Rn={props:[],computed:{},data(){return{apts:[],aptToCancel:{apt_id:1,date_time:"12/2/22, 12:00PM",description:"Hair Coloring with bleaching",duration:4,status:"Booking processing",shop_name:"Jason's Hair Studio"}}},mounted(){this.getAllApt()},methods:{async acceptApt(o){console.log(o),exit;const s=f().currentUser.accessToken;let i=JSON.parse(JSON.stringify(o));const a={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${s}`}},n={approvalCode:1,userName:i.display_name},d="http://127.0.0.1:5100/manage_appointment/"+i.apt_id;await this.axios.post(d,n,a).then(u=>{u.data.code==200&&this.getAllApt()}).catch(u=>{console.log(u.message)})},cancelApt(o){this.aptToCancel=o},async confirmCancel(){const e=f().currentUser.accessToken;let s=JSON.parse(JSON.stringify(this.aptToCancel));const i={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${e}`}},a={approvalCode:2,userName:s.display_name},n="http://127.0.0.1:5100/manage_appointment/"+s.apt_id;await this.axios.post(n,a,i).then(d=>{d.data.code==200}).catch(d=>{console.log(d.message)})},async getAllApt(){var o="http://localhost:5100/getPendingAppt/1";this.apts=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data.list_of_pending_appt;this.apts=s})}}},Dn=Object.assign(Rn,{setup(o){return(e,s)=>(l(),r("div",null,[t("div",Cn,[Tn,t("div",Sn,[t("table",Mn,[t("tbody",null,[(l(!0),r(C,null,T(e.apts,i=>(l(),y(Pn,{key:i.apt_id,appointment:i,onCancelApt:e.cancelApt,onAcceptApt:e.acceptApt},null,8,["appointment","onCancelApt","onAcceptApt"]))),128))])]),En,t("div",Nn,[t("div",qn,[t("div",On,[In,t("div",Ln,[t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-target":"#cancelcfm","data-bs-toggle":"modal",onClick:s[0]||(s[0]=i=>e.confirmCancel())}," Yes "),Un])])])]),Bn])])]))}});const jn={props:{q:{type:Object}},computed:{},data(){return{}},methods:{async serveQ(){var o="http://127.0.0.1:5002/queue/1";this.queue=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data;console.log(s),this.qs=s})}}},Vn={class:"bg-light p-3 services mb-3 row"},zn={class:"col-sm-3 text-start my-auto",style:{color:"#196e63"},id:"qnumber"},Qn=t("br",null,null,-1),Hn={class:"col-6 col-sm-9 text-start text-sm-end mt-3 my-sm-auto",id:"timeslot"},Jn=t("br",null,null,-1);function Gn(o,e,s,i,a,n){return l(),r("tr",null,[t("td",null,[t("div",Vn,[t("span",zn,[p(m(s.q.queue_number)+" ",1),Qn,p(" "+m(s.q.phone_number),1)]),t("span",Hn,[p("Date: "+m(s.q.time_created.split(" ")[0])+", ",1),Jn,p(" Time: "+m(s.q.time_created.split(" ")[1]),1)])])])])}var Yn=b(jn,[["render",Gn]]);const Fn={class:"container text-center mt-5",id:"page"},Xn=t("h4",{class:"mb-3"},"Current Queue",-1),Wn=p(" Number of pax: "),Kn=t("br",null,null,-1),Zn=t("br",null,null,-1),ti={class:"w-75",style:{display:"inline-block"}},ei={class:"table table-borderless mx-auto",style:{"max-width":"800px"}},oi={class:"modal fade",id:"serve","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"servelabel","aria-hidden":"true"},si={class:"modal-dialog modal-dialog-centered"},ai={class:"modal-content"},ni=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"servelabel"},"Serving"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ii={class:"modal-body text-center my-5"},li=p("The customer is being served now."),di={class:"modal fade",id:"removeq","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"removeqlabel","aria-hidden":"true"},ri={class:"modal-dialog modal-dialog-centered"},ci={class:"modal-content"},ui=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"removeqlabel"},"Remove Queue"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),pi={class:"modal-body text-center my-5"},mi=p("Are you sure you want to remove this queue number? "),hi=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-target":"#cfmremove","data-bs-toggle":"modal"}," Yes "),t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"modal"}," No ")],-1),_i={props:[],computed:{},data(){return{qs:[],qToServe:null}},mounted(){this.getQueue()},methods:{acceptApt(o){console.log(o)},cancelApt(o){this.aptToCancel=o},confirmCancel(){console.log(this.aptToCancel)},async getQueue(){var o="http://127.0.0.1:5002/queue/1";this.queue=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data;console.log(s),this.qs=s})},async serveQ(){var o="http://127.0.0.1:5002/shop/next";this.queue=[];var e={shop_id:1};await this.axios.put(o,e,{headers:{"Access-Control-Allow-Origin":"*"}}).then(s=>{s.data.data,this.getQueue()})}}},bi=Object.assign(_i,{setup(o){return(e,s)=>{const i=_("h8");return l(),r("div",Fn,[Xn,Wn,t("b",null,m(e.qs.length),1),Kn,Zn,t("div",ti,[t("button",{class:"btn accept mx-auto","data-bs-toggle":"modal","data-bs-target":"#serve",style:{"min-width":"max-content"},onClick:s[0]||(s[0]=(...a)=>e.serveQ&&e.serveQ(...a))}," Serve Next "),t("table",ei,[t("tbody",null,[(l(!0),r(C,null,T(e.qs,a=>(l(),y(Yn,{key:a.queue_id,q:a},null,8,["q"]))),128))])]),t("div",oi,[t("div",si,[t("div",ai,[ni,t("div",ii,[c(i,null,{default:h(()=>[li]),_:1})])])])]),t("div",di,[t("div",ri,[t("div",ci,[ui,t("div",pi,[c(i,null,{default:h(()=>[mi]),_:1})]),hi])])])])])}}}),vi={class:"text-center mb-5"},fi={data(){return{}},methods:{pushNotification(){console.log("run api for notification"),this.process_book()},async process_book(){var o="http://localhost:5101/telebot";const s=f().currentUser.accessToken,i={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${s}`}};await this.axios.post(o,"",i).then(a=>{console.log(a.data),alert("Your push notifications has been sent out to the users!")}).catch(a=>{alert("Your push notifications has been sent out to the users!"),console.log(a)})}}},gi=Object.assign(fi,{setup(o){return(e,s)=>(l(),r("div",vi,[t("button",{class:"btn btn-dark rounded-pill px-5 mt-3 mx-auto;",onClick:s[0]||(s[0]=i=>e.pushNotification())}," Push notification to Telebot ")]))}}),yi={class:"nav nav-pills nav-fill w-50 mx-auto mt-5"},$i={class:"nav-item"},wi={class:"nav-item"},ki={props:[],computed:{},data(){return{aptDisplay:!1}},mounted(){},methods:{changeToQueue(){document.getElementById("aptSelection").classList.remove("active"),document.getElementById("queueSelection").classList.add("active"),this.aptDisplay=!1},changeToApt(){document.getElementById("aptSelection").classList.add("active"),document.getElementById("queueSelection").classList.remove("active"),this.aptDisplay=!0}}},Ai=Object.assign(ki,{setup(o){return(e,s)=>(l(),r("div",null,[t("div",null,[t("ul",yi,[t("li",$i,[t("a",{id:"queueSelection",class:"nav-link active","aria-current":"page",href:"#",onClick:s[0]||(s[0]=(...i)=>e.changeToQueue&&e.changeToQueue(...i))},"Queue")]),t("li",wi,[t("a",{class:"nav-link",href:"#","aria-current":"page",onClick:s[1]||(s[1]=(...i)=>e.changeToApt&&e.changeToApt(...i)),id:"aptSelection"},"Appointments")])])]),e.aptDisplay?(l(),y(Dn,{key:0})):(l(),y(bi,{key:1})),c(gi)]))}}),xi={props:{appointment:{type:Object}},computed:{},data(){return{}},methods:{serveApt(){this.$emit("serveApt",this.appointment)}}},Pi={class:"bg-light p-3 services mb-3 row"},Ci={class:"col-sm-3 text-start"},Ti={class:"mb-1",style:{color:"#196e63"}},Si={style:{"font-size":"smaller"}},Mi={class:"col-sm-6 m-sm-auto mt-4 text-center text-sm-end"};function Ei(o,e,s,i,a,n){return l(),r("tr",null,[t("td",null,[t("div",Pi,[t("div",Ci,[t("h6",Ti,m(s.appointment.service_name)+" - "+m(s.appointment.duration)+" hours ",1),t("span",Si,m(s.appointment.user_phone_number),1)]),t("div",Mi,[t("button",{class:"btn servebtn col-sm-3 mx-auto","data-bs-toggle":"modal","data-bs-target":"#serve",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=(...d)=>n.serveApt&&n.serveApt(...d))}," SERVE ")])])])])}var Ni=b(xi,[["render",Ei]]);const qi={class:"container text-center mt-5"},Oi=t("h4",{class:"mb-5"},"Upcoming Appointments",-1),Ii={class:"w-75",style:{display:"inline-block"}},Li={class:"table table-borderless mx-auto"},Ui={class:"modal fade",id:"serve","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"servelabel","aria-hidden":"true"},Bi={class:"modal-dialog modal-dialog-centered"},Ri={class:"modal-content"},Di=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"servelabel"},"Serving"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ji={class:"modal-body text-center my-5"},Vi=p("The customer is being served now."),zi={props:[],computed:{},data(){return{apts:[]}},mounted(){this.getAllApt()},methods:{serveApt(o){console.log(o)},async getAllApt(){var o="http://localhost:5100/getUpcomingAppointment/1";this.apts=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data.list_of_upcoming_appt;this.apts=s})}}},Qi=Object.assign(zi,{setup(o){return(e,s)=>{const i=_("h8");return l(),r("div",qi,[Oi,t("div",Ii,[t("table",Li,[t("tbody",null,[(l(!0),r(C,null,T(e.apts,a=>(l(),y(Ni,{key:a.apt_id,appointment:a,onServeApt:e.serveApt},null,8,["appointment","onServeApt"]))),128))])]),t("div",Ui,[t("div",Bi,[t("div",Ri,[Di,t("div",ji,[c(i,null,{default:h(()=>[Vi]),_:1})])])])])])])}}}),Hi={props:{service:{type:Object}},methods:{EditService(){this.$emit("EditService",this.service)}}},Ji={class:"bg-light p-3 services mb-3 row g-0"},Gi={class:"col-sm-3 text-start"},Yi={class:"my-auto"},Fi={class:"col-6 col-sm-3 text-start text-sm-end mt-3 my-sm-auto",style:{color:"#196e63","font-size":"larger"},id:"timeslot"},Xi={class:"col-sm-6 m-sm-auto mt-4 text-center text-sm-end"},Wi=t("i",{class:"fa-solid fa-pen-to-square"},null,-1),Ki=[Wi],Zi=p(" \xA0 "),tl=t("button",{class:"btn cancel mx-auto","data-bs-toggle":"modal","data-bs-target":"#dltitem",style:{"min-width":"max-content"}},[t("i",{class:"fa-solid fa-trash-can"})],-1);function el(o,e,s,i,a,n){return l(),r("tr",null,[t("td",null,[t("div",Ji,[t("div",Gi,[t("h6",Yi,m(s.service.name)+" - "+m(s.service.duration)+" hours",1)]),t("span",Fi,"$"+m(s.service.price),1),t("div",Xi,[t("button",{class:"btn edit mx-auto","data-bs-toggle":"modal","data-bs-target":"#edititem",style:{"min-width":"max-content"},onClick:e[0]||(e[0]=d=>n.EditService())},Ki),Zi,tl])])])])}var ol=b(Hi,[["render",el]]);const sl={class:"container text-center mt-5",id:"page"},al=t("h4",{class:"mb-5"},"My Shop",-1),nl={class:"w-75",style:{"max-height":"400px","overflow-y":"scroll",display:"inline-block"}},il={class:"table table-borderless mx-auto"},ll={class:"modal fade",id:"edititem","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"edititemlabel","aria-hidden":"true"},dl={class:"modal-dialog modal-dialog-centered"},rl={class:"modal-content"},cl=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"edititemlabel"},"Edit Item"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ul={class:"modal-body text-center my-5"},pl={class:"container mt-4"},ml={class:"col-sm mb-3"},hl={class:"input-group mb-3"},_l={class:"row"},bl={class:"col-sm mb-3"},vl={class:"input-group"},fl={class:"col-sm mb-3"},gl={class:"input-group"},yl=t("span",{class:"input-group-text",id:"pricelabel"},"S$",-1),$l={class:"modal-footer"},wl={class:"modal fade",id:"dltitem","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"dltitemlabel","aria-hidden":"true"},kl={class:"modal-dialog modal-dialog-centered"},Al={class:"modal-content"},xl=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"dltitemlabel"},"Delete Item"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Pl={class:"modal-body text-center my-5"},Cl=p("Are you sure you want to delete this item?"),Tl=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-target":"#dltcfm","data-bs-toggle":"modal"}," Yes "),t("button",{type:"button",class:"btn mx-auto px-4 rounded-pill","data-bs-dismiss":"modal"}," No ")],-1),Sl={class:"modal fade",id:"dltcfm","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"dltcfmlabel","aria-hidden":"true"},Ml={class:"modal-dialog modal-dialog-centered"},El={class:"modal-content"},Nl=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"dltcfmlabel"},"Item Deleted"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ql={class:"modal-body text-center my-5"},Ol=p("This item is deleted."),Il=$('<div class="pt-3 pb-5"><button class="btn btn-dark rounded-pill px-5 mt-3" data-bs-toggle="modal" data-bs-target="#additem"> Add new item </button></div><div class="modal fade" id="additem" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="additemlabel" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="additemlabel">Add New Item</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center my-5"><div class="container mt-4"><div class="col-sm mb-3"><div class="input-group mb-3"><input id="title" type="text" class="form-control" placeholder="Title" aria-label="Title"></div></div><div class="row"><div class="col-sm mb-3"><div class="input-group"><input id="duration" type="text" class="form-control" placeholder="Duration" aria-label="Title"></div></div><div class="col-sm mb-3"><div class="input-group"><span class="input-group-text" id="pricelabel">S$</span><input id="amt" type="text" class="form-control" placeholder="Amount" aria-label="Title" aria-labelledby="pricelabel"></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn mx-auto accept px-4 rounded-pill"> ADD ITEM </button></div></div></div></div>',2),Ll={computed:{},data(){return{services:[],serviceToEdit:{id:"",title:"",duration:"",price:""}}},mounted(){this.getShopServices()},methods:{async updatingServiceApi(o){const s=f().currentUser.accessToken,i={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Allow_headers:["X-Custom-Auth","Content-Type","Authorization"],"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS",Authorization:`Bearer ${s}`}};var a={name:this.serviceToEdit.name,description:this.serviceToEdit.description,price:this.serviceToEdit.price,duration:this.serviceToEdit.duration};console.log(a);var n="http://localhost:5003/services/1";await this.axios.put(n,a,i).then(d=>{console.log(d)})},EditService(o){this.serviceToEdit=o,console.log(o)},async getShopServices(){var o="http://localhost:5003/services/1";await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{var s=e.data.data;this.services=s,console.log(this.services)})}}},Ul=Object.assign(Ll,{setup(o){return(e,s)=>{const i=_("h7");return l(),r("div",null,[t("div",sl,[al,t("div",nl,[t("table",il,[t("tbody",null,[(l(!0),r(C,null,T(e.services,a=>(l(),y(ol,{key:a.service_id,service:a,onEditService:n=>e.EditService(a)},null,8,["service","onEditService"]))),128))])]),t("div",ll,[t("div",dl,[t("div",rl,[cl,t("div",ul,[t("div",pl,[t("div",ml,[t("div",hl,[v(t("input",{id:"title",type:"text",class:"form-control",placeholder:"Title","aria-label":"Title","onUpdate:modelValue":s[0]||(s[0]=a=>e.serviceToEdit.description=a)},null,512),[[g,e.serviceToEdit.description]])])]),t("div",_l,[t("div",bl,[t("div",vl,[v(t("input",{id:"duration",type:"text",class:"form-control",placeholder:"Duration","aria-label":"Title","onUpdate:modelValue":s[1]||(s[1]=a=>e.serviceToEdit.duration=a)},null,512),[[g,e.serviceToEdit.duration]])])]),t("div",fl,[t("div",gl,[yl,v(t("input",{id:"amt",type:"text",class:"form-control",placeholder:"Amount","aria-label":"Title","aria-labelledby":"pricelabel","onUpdate:modelValue":s[2]||(s[2]=a=>e.serviceToEdit.price=a)},null,512),[[g,e.serviceToEdit.price]])])])])])]),t("div",$l,[t("button",{type:"button",class:"btn mx-auto saveitem px-4 rounded-pill",onClick:s[3]||(s[3]=(...a)=>e.updatingServiceApi&&e.updatingServiceApi(...a)),"data-bs-dismiss":"modal"}," SAVE ITEM ")])])])]),t("div",wl,[t("div",kl,[t("div",Al,[xl,t("div",Pl,[c(i,null,{default:h(()=>[Cl]),_:1})]),Tl])])]),t("div",Sl,[t("div",Ml,[t("div",El,[Nl,t("div",ql,[c(i,null,{default:h(()=>[Ol]),_:1})])])])])]),Il])])}}});const Bl=o=>(k("data-v-268dcd40"),o=o(),A(),o),Rl={class:"section"},Dl=Bl(()=>t("h3",{class:"text-center"},"Choose a shop",-1)),jl=["value"],Vl={data(){return{joinView:!1,phone_number:null,shops:[],shop_id:null}},mounted(){this.getShops()},methods:{async getShops(){var o="http://127.0.0.1:5005/allShops";this.shops=[],await this.axios.get(o,{"Access-Control-Allow-Origin":"*"}).then(e=>{var s=e.data.data;this.shops=s})}}},zl=Object.assign(Vl,{setup(o){return(e,s)=>{const i=_("RouterLink");return l(),r("div",Rl,[Dl,v(t("select",{class:"form-select shop-select","aria-label":"Default select example","onUpdate:modelValue":s[0]||(s[0]=a=>I(shop_id)?shop_id.value=a:null)},[(l(!0),r(C,null,T(e.shops,a=>(l(),r("option",{value:a.shop_id,key:a.shop_id},m(a.name),9,jl))),128))],512),[[O,e.shop_id]]),c(i,{to:"/queue/"+e.shop_id},{default:h(()=>[c(E,{label:"Select a shop"})]),_:1},8,["to"])])}}});var Ql=b(zl,[["__scopeId","data-v-268dcd40"]]);const Hl={class:"section p-5"},Jl={key:0,class:"success"},Gl=t("br",null,null,-1),Yl=t("br",null,null,-1),Fl=t("h3",{class:"text-center"}," Number of people infront of you is: ",-1),Xl={class:"text-center"},Wl={key:1},Kl=t("h3",{class:"text-center"},"Something went wrong",-1),Zl=[Kl],td={data(){return{queue_number:null,queue_length:0}},mounted(){this.getMyQueue()},methods:{async getMyQueue(){var o="http://127.0.0.1:5002/queue/"+this.$route.params.shop_id+"/"+this.$route.params.phone_number;this.shops=[],await this.axios.get(o,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{console.log(e),this.queue_number=e.data.queue_number;var s=0;for(var i of e.data.data)if(i.queue_number!=this.queue_number)s++;else break;this.queue_length=s}).then(e=>{})}}},ed=Object.assign(td,{setup(o){return(e,s)=>{const i=_("RouterLink");return l(),r("div",Hl,[e.queue_number!=null?(l(),r("div",Jl,[c(U,{style:{margin:"auto"},color:"#49C06A",title:"Queue Number",number:e.queue_number},null,8,["number"]),Gl,Yl,Fl,t("h1",Xl,m(e.queue_length),1)])):(l(),r("div",Wl,Zl)),c(i,{to:"/queue/"+this.$route.params.shop_id},{default:h(()=>[c(E,{onClick:e.leaveJoinView,label:"BACK"},null,8,["onClick"])]),_:1},8,["to"])])}}}),K=lt({history:dt("/"),routes:[{path:"/",name:"home",component:$s},{path:"/queue/:shop_id",name:"queue",component:Ee},{path:"/queue/:shop_id/:phone_number",name:"queueViewing",component:ed},{path:"/queue/join",name:"JoinQueue",component:Ql},{path:"/appointment",name:"appointment",component:So,meta:{authRequired:!0}},{path:"/login",name:"login",component:js},{path:"/signup",name:"signUp",component:pa},{path:"/forgetpassword",name:"forgetPassword",component:Ta},{path:"/shopdetails/:shopid",name:"shopdetails",component:bn,meta:{authRequired:!0}},{path:"/admin",name:"AdminHome",component:Ai,meta:{adminRequired:!0}},{path:"/admin/appointment",name:"AdminAppointment",component:Qi,meta:{adminRequired:!0}},{path:"/admin/shop",name:"AdminManageShop",component:Ul,meta:{adminRequired:!0}}]});K.beforeEach((o,e,s)=>{const i=f();o.matched.some(a=>a.meta.authRequired)?N(i,a=>{a?s():s({path:"/"})}):o.matched.some(a=>a.meta.adminRequired)?N(i,a=>{a?a.getIdTokenResult().then(n=>{console.log(n),n.claims.role==="admin"?s():s({path:"/"})}):s({path:"/"})}):s()});const od={apiKey:"AIzaSyBJXxT3zVooZoheT3wVwQgxfsnPBT1ptH4",authDomain:"esd-g3t1-project.firebaseapp.com",projectId:"esd-g3t1-project",storageBucket:"esd-g3t1-project.appspot.com",messagingSenderId:"1014855786050",appId:"1:1014855786050:web:b35a17797f0b43b50c57db"};rt(od);M.add(ct);M.add(ut);M.add(pt);M.add(mt);M.add(ht);M.add(G);M.add(G,_t,bt);const L=vt(Wt).component("font-awesome-icon",ft),sd=gt({state(){return{userToken:"test"}},mutations:{}});L.use(yt,$t);L.use(K);L.use(sd);L.mount("#app");
